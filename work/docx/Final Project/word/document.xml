<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<w:document xmlns:ve="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml"><w:body><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00905DD3"><w:pPr><w:jc w:val="both"/><w:rPr><w:b/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/></w:rPr><w:t>Date : 18/12/2013</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:jc w:val="both"/><w:rPr><w:b/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:jc w:val="center"/><w:rPr><w:b/><w:sz w:val="48"/><w:szCs w:val="48"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:sz w:val="48"/><w:szCs w:val="48"/></w:rPr><w:t>Embedded System</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:jc w:val="center"/><w:rPr><w:b/><w:sz w:val="36"/><w:szCs w:val="36"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:sz w:val="36"/><w:szCs w:val="36"/></w:rPr><w:t>(Final Project: SD Card Driver)</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:jc w:val="both"/><w:rPr><w:b/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:jc w:val="both"/><w:rPr><w:b/></w:rPr></w:pPr></w:p><w:p w:rsidR="00376C06" w:rsidRPr="0048257D" w:rsidRDefault="00376C06" w:rsidP="00905DD3"><w:pPr><w:jc w:val="both"/><w:rPr><w:b/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/></w:rPr><w:t xml:space="preserve">                              </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:b/><w:noProof/><w:lang w:eastAsia="zh-CN"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0"><wp:extent cx="4067175" cy="2762250"/><wp:effectExtent l="19050" t="0" r="9525" b="0"/><wp:docPr id="2" name="Picture 1"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 1"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId8"/><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="4067175" cy="2762250"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="9525"><a:noFill/><a:miter lim="800000"/><a:headEnd/><a:tailEnd/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:ind w:left="4320" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:ind w:left="4320" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:ind w:left="4320" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:ind w:left="4320" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:ind w:left="4320" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00FD099B" w:rsidRDefault="00907825" w:rsidP="00FD099B"><w:pPr><w:ind w:left="3600" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>W</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>riten by</w:t></w:r><w:r w:rsidR="00F92C6C" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00F92C6C" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve">Lee </w:t></w:r><w:r w:rsidR="006C7A43" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00F92C6C" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve">Shin </w:t></w:r><w:r w:rsidR="006C7A43" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00F92C6C" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Hyuk</w:t></w:r></w:p><w:p w:rsidR="009C020D" w:rsidRPr="0048257D" w:rsidRDefault="009C020D" w:rsidP="00FD099B"><w:pPr><w:ind w:left="3600" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:tab/><w:t>Jo    Jin   Bom</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00FD099B" w:rsidP="00CB7E0B"><w:pPr><w:ind w:left="2880" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:b/><w:i/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:br w:type="page"/></w:r><w:r w:rsidR="00CB7E0B" w:rsidRPr="00D251B1"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:val="ru-RU"/></w:rPr><w:lastRenderedPageBreak/><w:t>차</w:t></w:r><w:r w:rsidR="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00CB7E0B" w:rsidRPr="00D251B1"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:val="ru-RU"/></w:rPr><w:t>례</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00CB7E0B" w:rsidRPr="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>머리말</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:tab/><w:t xml:space="preserve"> ...................</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>...........</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.......................</w:t></w:r><w:r w:rsidR="006E0857"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>...........</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>. 3</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRPr="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>Chapter 1 General concept ..................</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.............................</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 4</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>Chapter 2 Analyse SD card Driver ...........</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.............................</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 1</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>1</w:t></w:r></w:p><w:p w:rsidR="006E0857" w:rsidRPr="00CB7E0B" w:rsidRDefault="006E0857" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>맺는말  ................................................................. 19</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:pStyle w:val="NoSpacing"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>지침으로 삼은 문헌 .........................</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.............................</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>0</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRPr="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:pStyle w:val="NoSpacing"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00CB7E0B" w:rsidRPr="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:pStyle w:val="NoSpacing"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>참고문헌 ...................................</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.............................</w:t></w:r><w:r w:rsidRPr="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>1</w:t></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00CB7E0B" w:rsidP="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:val="ru-RU"/></w:rPr><w:br/></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:val="ru-RU"/></w:rPr><w:br/></w:r></w:p><w:p w:rsidR="00CB7E0B" w:rsidRDefault="00CB7E0B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:val="ru-RU"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00047553"><w:pPr><w:pStyle w:val="Heading1"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="0"/></w:numPr><w:wordWrap w:val="0"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:lastRenderedPageBreak/><w:t>머 리 말</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00047553"/><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>위대한 수령</w:t></w:r><w:r w:rsidR="00D364C1" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00D364C1" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:b/><w:sz w:val="24"/><w:lang w:val="ru-RU"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>동지께서는 다음과 같이 교시하시였다.</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>《새로운 과학분야를 개척하고 최신과학기술성과를 인민경제에 널리</w:t></w:r><w:r w:rsidR="00D364C1" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>받아들이기 위한 연구사업을 전망성있게</w:t></w:r><w:r w:rsidR="00AD6DB3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>하여야 합니다.》(《</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:b/><w:sz w:val="24"/><w:lang w:val="ru-RU"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>저작집》제35권 제328페지)</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>위대한</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>령도자</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="24"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>동지께서는</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>다음과</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>같이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>지적하시였다</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">《강성대국을 건설하자면 나라의 과학기술을 빨리 발전시키고 인민경제를 높은 수준에서 현대화 하여야 </w:t></w:r><w:r w:rsidR="00D364C1" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>합니</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>다.》</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> (《김책공업종합대학은 나라의 위력한 과학기술인재양성기지이다》</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>단행본</w:t></w:r><w:r w:rsidR="00D364C1" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 8</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>페지)</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve">현시기 정보기술의 획기적인 발전과 함께 수많은 사용자들이 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">ipad와 여러가지 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">Embedded System device를 통하여 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t>업무를 수행하고 있다.</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve">이러한 사용자들의 요구를 원만히 충족시키기 위하여서는 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>Embedded S</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr><w:t>y</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>stem 장</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t>치들을</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> 사용자들이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> 효과적으로 리용하는것이 매우 중요하다.</w:t></w:r></w:p><w:p w:rsidR="00047553" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00D364C1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve">그러나 Linux체계에서 일부 장치들에 대한 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>구체적인 리해와 설명</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve">이 제공되지 않고 있는것으로 하여 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">Embedded System </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t>장치들을 효과적으로 리용하지 못하는 문제가 제기된다.</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00047553" w:rsidP="00FD099B"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>여기서는mmc/SD/tfSD 에 대한 일반적인 개념과 Tiny210장치의 각종 driver가운데</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">서 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>mmc/SD/tfSD driver에 대한 분석을 서술한다.</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00960089" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:jc w:val="center"/><w:rPr><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:lastRenderedPageBreak/><w:t>Chapter 1</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>General concept</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00905DD3"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">In this </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t>chapter</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">we are going </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>briefly</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> to </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">introduce </w:t></w:r><w:r w:rsidR="00960089" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">the </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t>concept of SD card driver and relational part to</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> implement this driver.  And lastly we are going to show some simple example relational of this driver.</w:t></w:r><w:r w:rsidR="00960089" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> This example helps you to construct general steps how to work this driver. </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>1.</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">1 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>What is SD (Secure Digital) card?</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>Block devices are storage media capable of random access. Unlike character devices, block devices can hold file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">system data. </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve">Secure Digital </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>(SD) cards and their smaller form-factor derivatives (miniSD and microSD) are popular storage media in devices such as cameras, cell phones, and music players. Cards complying with version 1.01 of the SD card specification support transfer speeds of up to 10MBps. SD storage has evolved from an older, slower, but compatible technology</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">called </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>Multi</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>Media</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve">Card </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">(MMC) that supports data rates of 2.5MBps. The kernel contains an SD/MMC subsystem in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>drivers/mmc/</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">1.2 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Linux Block I/O Layer</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>The storage media contains files residing in a file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>system, such as EXT3 or Reiserfs. User applications invoke I/O system calls to access these files. The resulting file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">system operations pass through the generic </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve">Virtual File System </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>(VFS) layer before entering the individual file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>system driver. The buffer cache speeds up file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>system access to block devices by caching disk blocks. If a block is found in the buffer cache, the time required to access the disk to read the block is saved. Data destined for each block device is lined up in a request queue. The file</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>system driver populates the request queue belonging to the desired block device, whereas the block driver receives and consumes requests</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">from the corresponding queue. In between, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t xml:space="preserve">I/O schedulers </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>manipulate the request queue so as to minimize disk access latencies and maximize throughput.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">                </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:noProof/><w:lang w:eastAsia="zh-CN"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0"><wp:extent cx="4552950" cy="3686175"/><wp:effectExtent l="19050" t="0" r="0" b="0"/><wp:docPr id="1" name="Picture 1"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 1"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId9"/><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="4552950" cy="3686175"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="9525"><a:noFill/><a:miter lim="800000"/><a:headEnd/><a:tailEnd/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="center"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr><w:t>Block I/O on Linux</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">1.3 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>I/O Schedulers</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Block devices suffer </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>seek times</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, the latency to move the disk head from its existing position to the disk sector of interest. The main goal of an I/O scheduler is to increase system throughput by minimizing these seek times. To achieve this, I/O schedulers maintain the request queue in sorted order according to the disk sectors associated with the constituent requests. New requests are inserted into the queue such that this order is maintained. If an existing request in the queue is associated with an adjacent disk sector, the new request is merged with it. Because of these properties, I/O schedulers bear an operational resemblance to elevators—they schedule requests in a single direction until the last requester in the line is serviced. </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">1.4 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Block Driver Data Structures and Methods</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>In this part, we take a look at the important data structures and driver methods that you are likely to encounter while implementing a block device driver.</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>The following are the main block driver data structures:</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="21"/></w:numPr><w:tabs><w:tab w:val="left" w:pos="1170"/></w:tabs><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">The kernel represents a disk using the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">gendisk </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">(short for generic disk) structure defined in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>include/linux/genhd.h</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="21"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">The I/O request queue associated with each block driver is described using the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structure defined in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>include/linux/blkdev.h</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="21"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Each request in a </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">is represented using a </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structure defined in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>include/linux/blkdev.h</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="21"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">block_device_operations </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">is the block driver counterpart of the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">file_operations </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structure used by character drivers. It contains the following entry points associated with a block driver: </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="22"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Standard methods such as </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>open()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>release()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, and </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">ioctl() </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="22"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Specialized methods such as </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">media_changed() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">revalidate_disk() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">that support removable block devices </w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="21"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">When we looked at the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structure, we saw that it was associated with a </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>bio</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. A </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">bio </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structure is a low-level description of block I/O operations at page-level granularity. It's defined in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>include/linux/bio.h</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Block data is internally represented as an I/O vector using an array of </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">bio_vec </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">structures. Each element of the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">bio_vec </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">array is made up of a </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>(page</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>page_offset</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">length) </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>tuple that describes a segment of the I/O block. Maintaining I/O requests as a vector of pages brings several advantages, including a leaner implementation and efficient scatter/gather.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">1.5 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Device Example: Simple Storage Controller</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">The SoC contains a built-in storage controller that communicates with a block device. The architecture is similar to SD/MMC media, but our sample storage controller is described by the elementary register set. The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">SECTOR_NUMBER_REGISTER </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">specifies the sector from which data access is requested. The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">SECTOR_COUNT_REGISTER </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">contains the number of sectors to be transferred. Data is moved via the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>DATA_REGISTER</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">COMMAND_REGISTER </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">programs the action that the storage controller has to take (for example, whether to read from the media or write to it). The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">STATUS_REGISTER </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>contains bits that signal whether the controller is busy performing an operation.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="center"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:noProof/><w:lang w:eastAsia="zh-CN"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0"><wp:extent cx="4314825" cy="1409700"/><wp:effectExtent l="19050" t="0" r="9525" b="0"/><wp:docPr id="3" name="Picture 2"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 2"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId10"/><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="4314825" cy="1409700"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="9525"><a:noFill/><a:miter lim="800000"/><a:headEnd/><a:tailEnd/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="center"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/></w:rPr><w:t xml:space="preserve">     </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr><w:t>Storage on an embedded device</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Let's call the storage controller </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>myblkdev</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. This simple device is neither interrupt driven nor supports DMA. We'll also assume that the media is not removable. </w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">1.5.1  </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00091986" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Initialization</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Registers the block device using </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>register_blkdev()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. This block library routine assigns an unused major number to myblkdev and adds an entry for the device in </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/><w:i/><w:iCs/></w:rPr><w:t>/proc/devices</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Associates a request method with the block device. It does this by supplying the address of </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">myblkdev_request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">to </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_init_queue()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. The call to </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">blk_init_queue() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">returns the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">for myblkdev. The second argument to </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_init_queue()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_lock</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, is a spinlock to protect the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>from concurrent access.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:ind w:left="360" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">You need to inform the block layer about the sector size supported by your storage hardware and the maximum number of sectors that your driver can receive per request. </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_init()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">accomplishes these by invoking </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">blk_queue_hardsect_size() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_queue_max_sectors()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>,respectively.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:ind w:left="360" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">One important </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">gendisk </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">field that </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">myblkdev_init() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">supplies is the address of the driver's </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>block_device_operations</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. Another parameter that </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">myblkdev_init() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">fills in is the storage capacity of myblkdev in units of sectors. This is accomplished by calling </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>set_capacity()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. Each </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">gendisk </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">also contains a flag that signals the properties of the underlying storage hardware. If the drive is removable, for example, the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>gendisk</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">'s </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">flag </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">field should be marked  </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>GENHD_FL_REMOVABLE</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Associates the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">gendisk </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">prepared in Step 4 with the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">obtained in Step 2. Also, connects the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">gendisk </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>with the device's major/minor numbers and a name.</w:t></w:r></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="180"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00091986" w:rsidRPr="0048257D" w:rsidRDefault="00091986" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="18"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Adds the disk to the block I/O layer by invoking </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>add_disk()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>. When this is done, the driver has to be ready to receive requests. So, this is usually the last step of the initialization sequence.</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Initializing the Driver</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#include &lt;linux/blkdev.h&gt;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#include &lt;linux/genhd.h&gt;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>static struct gendisk *myblkdisk;</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> /* Representation of a disk */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">static struct request_queue *myblkdev_queue; </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Associated request queue */</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>int myblkdev_major = 0;</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>static DEFINE_SPINLOCK(myblkdev_lock);</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">int myblkdisk_size = 256*1024; </w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">int myblkdev_sect_size = 512; </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Hardware sector size */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Initialization */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>static int __init</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_init(void)</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:t>{</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>/* Register this block driver with the kernel */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>if ((myblkdev_major = register_blkdev(myblkdev_major,"myblkdev")) &lt;= 0) {</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>return -EIO;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="630" w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Allocate a request_queue associated with this device */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_queue = blk_init_queue(myblkdev_request, &amp;myblkdev_lock);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>if (!myblkdev_queue) return -EIO;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Set the hardware sector size and the max number of sectors */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_queue_hardsect_size(myblkdev_queue, myblkdev_sect_size);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_queue_max_sectors(myblkdev_queue, 512);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Allocate an associated gendisk */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdisk = alloc_disk(1);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>if (!myblkdisk) return -EIO;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Fill in parameters associated with the gendisk */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdisk-&gt;fops = &amp;myblkdev_fops;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Set the capacity of the storage media in terms of number of</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>sectors */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>set_capacity(myblkdisk, myblkdisk_size*2);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdisk-&gt;queue = myblkdev_queue;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdisk-&gt;major = myblkdev_major;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdisk-&gt;first_minor = 0;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>sprintf(myblkdisk-&gt;disk_name, "myblkdev");</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Add the gendisk to the block I/O subsystem */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>add_disk(myblkdisk);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>return 0;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Exit */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>static void __exit</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_exit(void)</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Invalidate partitioning information and perform cleanup */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>del_gendisk(myblkdisk);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Drop references to the gendisk so that it can be freed */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>put_disk(myblkdisk);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Dissociate the driver from the request_queue. Internally calls</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>elevator_exit() */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>blk_cleanup_queue(myblkdev_queue);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Unregister the block device */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>unregister_blkdev(myblkdev_major, "myblkdev");</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>module_init(myblkdev_init);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>module_exit(myblkdev_exit);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MODULE_LICENSE("GPL");</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="630"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">1.5.2   </w:t></w:r><w:r w:rsidR="00754C26" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Block Device Operations</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Let's next take a look at the main methods contained in a block driver's </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>block_device_operations</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">A block driver's </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method is called during operations such as mounting a filesystem residing on the media. Many of the tasks accomplished during </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>are hardware</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>dependent.</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">If the device is removable, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">invokes the service routine </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">check_disk_change() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>to check whether the media has changed.</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">If your driver needs to support specific commands, implement support for it using the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">ioctl() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method. </w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">media_changed() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>method checks whether the storage media has changed, so this is not relevant for fixed devices such as myblkdev.</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define GET_DEVICE_ID 0xAA00 /* Ioctl command definition */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* The ioctl operation */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="630"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>static int myblkdev_ioctl (struct inode *inode, struct file *file,unsigned int cmd, unsigned long arg)</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>unsigned char status;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>switch (cmd) {</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>case GET_DEVICE_ID:</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(GET_IDENTITY_CMD, COMMAND_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Wait as long as the controller is busy */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>while ((status = inb(STATUS_REGISTER)) &amp; BUSY_STATUS);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Obtain ID and return it to user space */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>return put_user(inb(DATA_REGISTER), (long __user *)arg);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>default:</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>return -EINVAL;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B"><w:pPr><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">1.5.3 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00754C26" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Disk Access</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">As mentioned previously, block drivers perform disk access operations using a </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method. The block I/O subsystem invokes a driver's </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method whenever it desires to process requests waiting in the driver's </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>request_queue</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. The </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>request()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method does not run in the context of the user process requesting the data transfer, however. The address of the associated </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">is passed as an argument to the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>request()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method. </w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">As you saw earlier, the kernel holds a request lock before calling the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method. This is to protect the associated request queue from concurrent access. Because of this, if your </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">method has to call any functions that may go to sleep, it has to drop the lock before doing so and reacquire it before returning. </w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">The function </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_request()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">uses the services of </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">elv_next_request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">to obtain the next request from the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>request_queue</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. If the queue contains no more pending requests, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">elv_next_request() </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">returns </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>NULL</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. After handling a request, the driver asks the block layer to end I/O on that request by calling </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>end_request()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">. You can specify success or an error code using the second argument to </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>end_request()</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00754C26" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00754C26" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">Requests collected from the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">request_queue </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>contain the starting sector from which data access is requested (</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>req-&gt;sector</w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>the number of sectors on which I/O needs to be performed (</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>req-&gt;nr_sectors</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>), the buffer that contains the data to be transferred (</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>req-&gt;buffer</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>), and the direction of data movement (</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>rq_data_dir(req)</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>).</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The Request Function</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Verdana"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define READ_SECTOR_CMD 1</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define WRITE_SECTOR_CMD 2</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define GET_IDENTITY_CMD 3</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define BUSY_STATUS 0x10</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define SECTOR_NUMBER_REGISTER 0x20000000</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define SECTOR_COUNT_REGISTER 0x20000001</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define COMMAND_REGISTER 0x20000002</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define STATUS_REGISTER 0x20000003</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>#define DATA_REGISTER 0x20000004</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Request method */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">static </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>void</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>myblkdev_request(struct request_queue *rq)</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>struct request *req;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>unsigned char status;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>int i, good = 0;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:t>/* Loop through the requests waiting in line */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>while ((req = elv_next_request(rq)) != NULL) {</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(req-&gt;sector, SECTOR_NUMBER_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(req-&gt;nr_sectors, SECTOR_COUNT_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>if (blk_fs_request(req)) {</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>switch(rq_data_dir(req)) {</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">      </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>case READ:</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Issue Read Sector Command */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">        </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(READ_SECTOR_CMD, COMMAND_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">        </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Traverse all requested sectors, byte by byte */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">        </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>for (i = 0; i &lt; 512*req-&gt;nr_sectors; i++) {</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2880" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>while ((status = inb(STATUS_REGISTER)) &amp; BUSY_STATUS);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>req-&gt;buffer[i] = inb(DATA_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1800" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">        </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2520" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>good = 1;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2520" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>break;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>case WRITE:</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Issue Write Sector Command */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(WRITE_SECTOR_CMD, COMMAND_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">            </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>/* Traverse all requested sectors, byte by byte */</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">      </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>for (i = 0; i &lt; 512*req-&gt;nr_sectors; i++) {</w:t></w:r></w:p><w:p w:rsidR="00FD099B" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2880" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>while ((status = inb(STATUS_REGISTER)) &amp; BUSY_STATUS);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="3600" w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>outb(req-&gt;buffer[i], DATA_REGISTER);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2880"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>good = 1;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00960089" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="2160" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">    </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidR="00D449F4" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>break;</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1800" w:firstLine="360"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1080" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="630"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>end_request(req, good);</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00D449F4" w:rsidRPr="0048257D" w:rsidRDefault="00D449F4" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00FD099B" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:ind w:left="360" w:firstLine="270"/><w:jc w:val="center"/><w:rPr><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t xml:space="preserve">Chapter 2   </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Analysis</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t xml:space="preserve"> SD card Driver</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:tabs><w:tab w:val="left" w:pos="1005"/></w:tabs><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">In this chapter we are going to explain what each function of this driver  does. </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>M</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">oreover we are going to explain </w:t></w:r><w:r w:rsidR="00C265C2" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t>how the functions are related.  We are going to mainly divide into 3 sections.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">2.1  </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Card</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_BLOCK</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "MMC block device driver"</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on BLOCK</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Say Y here to enable the MMC block device driver support.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:tab/><w:t xml:space="preserve">  This provides a block device driver, which you can use to mount the filesystem. </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00051958" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>Almost everyone wishing MMC support</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00051958" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> should say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_BLOCK_BOUNCE</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Use bounce buffer for simple hosts"</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_BLOCK</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>default y</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  SD/MMC is a high latency protocol where it is crucial to  send large requests in order to </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00051958" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>get high performance. Many controllers, however, are restricted to continuous memory</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  (i.e. they can't do scatter-gather), something the kernel rarely can provide.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">Say Y here to help these restricted hosts by bouncing requests back and forth from a </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">large buffer. You will get a big performance gain at the cost of up to 64 KiB of physical </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>memory.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say Y here.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_BLOCK_DEFERRED_RESUME</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Deferr MMC layer resume until I/O is requested"</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_BLOCK</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>default n</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Say Y here to enable deferred MMC resume until I/O is requested. This will reduce </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">overall resume latency and save power when theres an SD card inserted but not being </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>used.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>SDIO_UART</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "SDIO UART/GPS class support"</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  SDIO function driver for SDIO cards that implements the UART class, as well as the GPS </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00051958" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>class which appears like a UART.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_TEST</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "MMC host test driver"</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>default n</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Development driver that performs a series of reads and writes to a memory card in order </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">to expose certain well known bugs in host controllers. The tests are executed by writing </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>to the "test" file in sysfs under each card. Note that whatever is</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  on your card will be </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>overwritten by these tests.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">This driver is only of interest to those developing or testing a host driver. Most people </w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>should say N here.</w:t></w:r></w:p><w:p w:rsidR="00051958" w:rsidRPr="0048257D" w:rsidRDefault="00051958" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">2.2 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> Core</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve"> MMC_UNSAFE_RESUME</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:lastRenderedPageBreak/><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:tab/><w:t xml:space="preserve">bool </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>：</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>"Assume MMC/SD cards are non-removable (DANGEROUS)"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">         help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1080"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">If you say Y here, the MMC layer will assume that all cards stayed in their respective slots during the suspend. The normal behaviour is to remove them at suspend and  redetecting them at resume. Breaking this assumption will in most cases result in data corruption. </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1080"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">This option is usually just for embedded systems which use a MMC/SD card for rootfs. Most people should say N here. </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1080"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t>This option sets a default which can be overridden by the module parameter "removable=0" or "removable=1".</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>MMC_EMBEDDED_SDIO</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>bool</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t>：</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t xml:space="preserve"> "MMC embedded SDIO device support (EXPERIMENTAL)"</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t>depends on</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990" w:firstLine="450"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t>EXPERIMENTAL</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">If you say Y here, support will be added for embedded SDIO devices which do not </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>contain the necessary enumeration support in hardware to be properly detected.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>MMC_PARANOID_SD_INIT</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">bool </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>：</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>"Enable paranoid SD card initialization (EXPERIMENTAL)"</w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">depends on </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990" w:firstLine="450"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t>EXPERIMENTAL</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/></w:pPr><w:r w:rsidRPr="0048257D"><w:t xml:space="preserve">　　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:t>If you say Y here, the MMC layer will be extra paranoid about re-trying SD init requests. This can be a useful  work-around for buggy controllers and hardware. Enable if you are experiencing issues with SD detection.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:jc w:val="both"/><w:rPr><w:rFonts w:cs="Verdana"/><w:b/><w:bCs/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">2.3 </w:t></w:r><w:r w:rsidR="00FD099B" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> Host</w:t></w:r></w:p><w:p w:rsidR="000242B5" w:rsidRPr="0048257D" w:rsidRDefault="000242B5" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Secure Digital Host Controller Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on HAS_DMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">       </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">  This selects the generic Secure Digital Host Controller</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">Interface. It is used by </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990" w:firstLine="180"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>manufacturers such as Texas</w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">Instruments(R), Ricoh(R) and Toshiba(R). Most </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="990" w:firstLine="180"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>controllers found</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">in laptops are of this type. </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="1215"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>If you have a controller with this interface, say Y or M here. You</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>also need to enable an appropriate bus interface. If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_IO_ACCESSORS</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>Bool</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This is silent Kconfig symbol that is selected by the drivers </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">that need to overwrite </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>SDHCI IO memory accessors.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_BIG_ENDIAN_32BIT_BYTE_SWAPPER</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:tab/><w:t>bool</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>select MMC_SDHCI_IO_ACCESSORS</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This option is selected by drivers running on big endian hosts</w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> and performing I/O to a </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">SDHCI controller through a bus that  implements a hardware byte swapper using a 32-bit </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>datum.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">This endian mapping mode is called "data invariance" and has the effect of scrambling </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">the addresses and formats of data accessed in sizes other than the datum size. </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>This is the case for the Freescale eSDHC and Nintendo Wii SDHCI.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_PCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "SDHCI support on PCI bus"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI &amp;&amp; PCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the PCI Secure Digital Host Controller Interface.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Most controllers found today are PCI devices</w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">If you have a controller with this interface, </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_OF</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "SDHCI support on OpenFirmware platforms"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI &amp;&amp; PPC_OF</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the OF support for Secure Digital Host Controller  Interfaces.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_OF_ESDHC</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "SDHCI OF support for the Freescale eSDHC controller"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI_OF</w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>select MMC_SDHCI_BIG_ENDIAN_32BIT_BYTE_SWAPPER</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the Freescale eSDHC controller support.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_S3C</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "SDHCI support on Samsung S3C SoC"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI &amp;&amp; (PLAT_S3C24XX || PLAT_S3C64XX || PLAT_S5P)</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="001E55F8" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">  This selects the Secure Digital Host Controller Interface (SDHCI) often referrered </w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="001E55F8" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">to as the HSMMC block in some of the </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>Samsung S3C</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>range of SoC.</w:t></w:r></w:p><w:p w:rsidR="001E55F8" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">Note, due to the problems with DMA, the DMA support is only available with </w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>CONFIG_EXPERIMENTAL is selected.</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you have a controller with this interface, say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_SPEAR</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "SDHCI support on ST SPEAr platform"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI &amp;&amp; PLAT_SPEAR</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="900"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve"> This selects the Secure Di</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>gital Host Controller Interface</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>(SDHCI) often referrered to as the HSMMC block in some of the</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>ST</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>SPEAR range of SoC If you have a controller with this interface, say Y or M here.</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SDHCI_S3C_DMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "DMA support on S3C SDHCI"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_SDHCI_S3C</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Enable DMA support on the Samsung S3C SDHCI glue. The DMA has proved to be </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">problematic if the controller encounters certain errors, and thus should be treated with </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>care.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_AT91</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "AT91 SD/MMC Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on ARCH_AT91</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the AT91 MCI controller.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_ATMELMCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Atmel Multimedia Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on AVR32 || ARCH_AT91</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the Atmel Multimedia Card Interface driver. If you have an AT32 (AVR32) or </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>AT91 platform with a Multimedia Card slot, say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/><w:i/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_ATMELMCI_DMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Atmel MCI DMA support (EXPERIMENTAL)"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MMC_ATMELMCI &amp;&amp; AVR32 &amp;&amp; DMA_ENGINE &amp;&amp; EXPERIMENTAL</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Say Y here to have the Atmel MCI driver use a DMA engine to do data transfers and thus </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">increase the throughput and reduce the CPU utilization. Note that this is highly  </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>experimental and may cause the driver to lock up.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_IMX</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Motorola i.MX Multimedia Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on ARCH_MX1</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the Motorola i.MX Multimedia card Interface.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you have a i.MX platform with a Multimedia Card slot,</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_MXC</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Freescale i.MX2/3 Multimedia Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on ARCH_MXC</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:lastRenderedPageBreak/><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the Freescale i.MX2/3 Multimedia card Interface.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you have a i.MX platform with a Multimedia Card slot,</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_DAVINCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">        tristate "TI DAVINCI Multimedia Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">        depends on ARCH_DAVINCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">        help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">          This selects the TI DAVINCI Multimedia card Interface.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">          If you have an DAVINCI board with a Multimedia Card slot, say Y or M here.  If unsure, say </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_SPI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "MMC/SD/SDIO over SPI"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on SPI_MASTER &amp;&amp; !HIGHMEM &amp;&amp; HAS_DMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>select CRC7</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>select CRC_ITU_T</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Some systems access MMC/SD/SDIO cards using a SPI controller instead of using a </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="90"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">"native" MMC/SD/SDIO controller.  This has a  disadvantage of being relatively high </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="810"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">overhead, but a compensating advantage of </w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">working on many systems without dedicated </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:hAnsi="Courier New" w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">　</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC/SD/SDIO controllers.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, or if your system has no SPI master driver, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_S3C</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Samsung S3C SD/MMC Card Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on ARCH_S3C2410</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="001E55F8" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">  This selects a driver for the MCI interface found in</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> Samsung's S3C2410, S3C2412, </w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="001E55F8" w:rsidP="001E55F8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>3C2440, S3C2442 CPUs.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you have a board based on one of those and a MMC/SD</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> slot, say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_S3C_HW_SDIO_IRQ</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">       bool "Hardware support for SDIO IRQ"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">       depends on MMC_S3C</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">       help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve"> Enable the hardware support for SDIO interrupts instead of using</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve"> the generic polling code.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_S3C_PIO</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Use PIO transfers only"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Use PIO to transfer data between memory and the hardware.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  PIO is slower than DMA as it requires CPU instructions to move the data. This has been </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>the traditional default for the S3C MCI driver.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_S3C_DMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Use DMA transfers only (EXPERIMENTAL)"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on EXPERIMENTAL</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Use DMA to transfer data between memory and the hardare.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Currently, the DMA support in this driver seems to not be working properly and needs to </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>be debugged before this option is useful.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_S3C_PIODMA</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>bool "Support for both PIO and DMA (EXPERIMENTAL)"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  Compile both the PIO and DMA transfer routines into the driver and let the platform </w:t></w:r><w:r w:rsidR="00907825" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>select at run-time which one is best.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  See notes for the DMA option.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_TMIO</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Toshiba Mobile IO Controller (TMIO) MMC/SD function support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on MFD_TMIO || MFD_ASIC3 || MFD_SH_MOBILE_SDHI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This provides support for the SD/MMC cell found in TC6393XB,  T7L66XB and also HTC </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>ASIC3</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_CB710</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "ENE CB710 MMC/SD Interface support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on PCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>select CB710_CORE</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This option enables support for MMC/SD part of ENE CB710/720 </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">Flash memory card reader found in some laptops (ie. some versions of HP Compaq </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>nx9500).</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This driver can also be built as a module. If so, the module will be called cb710-mmc.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>MMC_VIA_SDMMC</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "VIA SD/MMC Card Reader Driver"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on PCI</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  This selects the VIA SD/MMC Card Reader driver, say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  VIA provides one multi-functional card reader which integrated into some motherboards </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>manufactured by VIA. This card reader  supports SD/MMC/SDHC.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you have a controller with this interface, say Y or M here.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>SDH_BFIN</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>tristate "Blackfin Secure Digital Host support"</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>depends on (BF54x &amp;&amp; !BF544) || (BF51x &amp;&amp; !BF512)</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t>help</w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:tab/><w:t xml:space="preserve">  If you say yes here you will get support for the Blackfin on-chip Secure Digital Host </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="450"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New" w:hint="eastAsia"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00905DD3" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">interface.  This includes support for    MMC and SD cards. </w:t></w:r></w:p><w:p w:rsidR="00907825" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t xml:space="preserve">To compile this driver as a module, choose M here: the module will be called bfin_sdh. If </w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00907825"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:left="270" w:firstLine="540"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr><w:t>unsure, say N.</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00FD099B"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:ind w:firstLine="270"/><w:rPr><w:rFonts w:cs="Courier New"/></w:rPr></w:pPr></w:p><w:p w:rsidR="001E55F8" w:rsidRPr="0048257D" w:rsidRDefault="001E55F8"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:ind w:firstLineChars="75" w:firstLine="330"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="44"/><w:szCs w:val="44"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="44"/><w:szCs w:val="44"/></w:rPr><w:lastRenderedPageBreak/><w:t>맺 는 말</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:ind w:firstLineChars="75" w:firstLine="165"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>과제서</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>에서는</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>Linux</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>조작체계에서</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>MMC</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>/</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>SD</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>/</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>tfSD장</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>치구동프로그람의</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>일반적인</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>개념과</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>Tiny</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>210</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>장치에서의</w:t></w:r><w:r w:rsidR="001E55F8" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>MMC</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>/</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>SD</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>/</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>tfSD</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>driver</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>에</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>대하여</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>서술하였다</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:ind w:firstLineChars="75" w:firstLine="165"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>현재</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>ipad</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>나</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>iphone과</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>같은</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>Embedded</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>System</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>장치들이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>광범히</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>리용되고</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>날이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>감에</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>따라</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>수많은</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>장치구동프로그람들을</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>원만히</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>지원하고</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>있다</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:ind w:firstLineChars="75" w:firstLine="165"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>여러가지</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>장치구동프로그람들과</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>응용프로그람들이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>비약적으로</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>개발되고</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>있으므로</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:ind w:firstLineChars="75" w:firstLine="165"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>Linux체계의</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>각종</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>장치driver들에</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>대한</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>연구사업을</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>더욱</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>심화시켜야</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>한다</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:pStyle w:val="Heading1"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="0"/></w:numPr><w:wordWrap w:val="0"/><w:ind w:left="360"/><w:jc w:val="left"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:bookmarkStart w:id="0" w:name="_Toc534480984"/></w:p><w:p w:rsidR="0014146B" w:rsidRPr="0048257D" w:rsidRDefault="0014146B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:bCs/><w:sz w:val="36"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:pStyle w:val="Heading1"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="0"/></w:numPr><w:wordWrap w:val="0"/><w:ind w:left="360"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:lastRenderedPageBreak/><w:t>지침으로</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t>삼은</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t>문헌</w:t></w:r><w:bookmarkEnd w:id="0"/></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00907825" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="0014146B" w:rsidRPr="0048257D" w:rsidRDefault="0014146B" w:rsidP="0014146B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:ind w:left="0"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">위대한 수령 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:b/><w:sz w:val="24"/><w:lang w:val="ru-RU"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>동지의 로작</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="0014146B"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="10"/></w:numPr><w:rPr><w:rFonts w:ascii="Calibri" w:eastAsia="新細明體" w:hAnsi="Calibri" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:b/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>저작집</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>》</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve">     </w:t></w:r><w:r w:rsidR="00D47A6F" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00D47A6F" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00D47A6F" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/></w:r><w:r w:rsidR="00CB7E0B"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:tab/><w:t xml:space="preserve">     </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>35</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>권</w:t></w:r></w:p><w:p w:rsidR="0014146B" w:rsidRPr="0048257D" w:rsidRDefault="0014146B" w:rsidP="0014146B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">위대한 령도자 </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:b/><w:sz w:val="24"/><w:lang w:val="ru-RU"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>동지의 로작</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00814340"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="23"/></w:numPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:val="ru-RU"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>《김책공업종합대학은 나라의 위력한 과학기술인재양성기지이</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>다</w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>.》</w:t></w:r><w:r w:rsidR="00D47A6F" w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/><w:lang w:val="ru-RU"/></w:rPr><w:t>단행본</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:lang w:val="ru-RU" w:eastAsia="ko-KR"/></w:rPr></w:pPr></w:p><w:p w:rsidR="0014146B" w:rsidRPr="0048257D" w:rsidRDefault="0014146B"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/><w:bCs/><w:sz w:val="36"/><w:szCs w:val="28"/><w:lang w:eastAsia="ko-KR"/></w:rPr></w:pPr><w:bookmarkStart w:id="1" w:name="_Toc534480985"/><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:pStyle w:val="Heading1"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="0"/></w:numPr><w:wordWrap w:val="0"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:lastRenderedPageBreak/><w:t>참</w:t></w:r><w:r w:rsidR="003A20F3"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>고</w:t></w:r><w:r w:rsidR="003A20F3"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>문</w:t></w:r><w:r w:rsidR="003A20F3"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:lang w:eastAsia="ko-KR"/></w:rPr><w:t>헌</w:t></w:r><w:bookmarkEnd w:id="1"/></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="0048257D" w:rsidRDefault="00807AB1" w:rsidP="00807AB1"><w:pPr><w:rPr><w:rFonts w:ascii="Calibri" w:eastAsia="新細明體" w:hAnsi="Calibri" w:cs="Times New Roman"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="001E6874" w:rsidRDefault="00807AB1" w:rsidP="001E6874"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="24"/></w:numPr><w:wordWrap w:val="0"/><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/></w:rPr></w:pPr><w:r w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/></w:rPr><w:t>Essential Linux Device Drivers[2008,851p]</w:t></w:r><w:r w:rsidR="003A20F3" w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>. Written by Sreekrishnan.</w:t></w:r><w:r w:rsidR="001E6874" w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman" w:hint="eastAsia"/></w:rPr><w:t>P</w:t></w:r><w:r w:rsidR="003A20F3" w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/></w:rPr><w:t xml:space="preserve">ublisher: </w:t></w:r><w:r w:rsidR="003A20F3" w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:bCs/></w:rPr><w:t>Prentice Hall</w:t></w:r></w:p><w:p w:rsidR="00807AB1" w:rsidRDefault="00807AB1" w:rsidP="001E6874"><w:pPr><w:pStyle w:val="Default"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="24"/></w:numPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr></w:pPr><w:r w:rsidRPr="0048257D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr><w:t>Mini210S-usersmanual070412III</w:t></w:r><w:r w:rsidR="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/></w:rPr><w:t>. Written by Guangzhou FriendlyARM Co.,Ltd</w:t></w:r></w:p><w:p w:rsidR="001E6874" w:rsidRPr="0048257D" w:rsidRDefault="001E6874" w:rsidP="001E6874"><w:pPr><w:pStyle w:val="Default"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00807AB1" w:rsidRPr="001E6874" w:rsidRDefault="00807AB1" w:rsidP="001E6874"><w:pPr><w:pStyle w:val="ListParagraph"/><w:widowControl w:val="0"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="24"/></w:numPr><w:wordWrap w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/></w:rPr></w:pPr><w:r w:rsidRPr="001E6874"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Times New Roman"/></w:rPr><w:t>rootfs_android-20120326.tar</w:t></w:r></w:p><w:p w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidRDefault="00905DD3" w:rsidP="00905DD3"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="240" w:lineRule="auto"/><w:jc w:val="both"/></w:pPr></w:p><w:sectPr w:rsidR="00905DD3" w:rsidRPr="0048257D" w:rsidSect="00FD099B"><w:pgSz w:w="12240" w:h="15840"/><w:pgMar w:top="1440" w:right="1710" w:bottom="1440" w:left="1710" w:header="720" w:footer="720" w:gutter="0"/><w:cols w:space="720"/><w:docGrid w:linePitch="360"/></w:sectPr></w:body></w:document>