<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<w:document xmlns:wpc="http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp14="http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:w14="http://schemas.microsoft.com/office/word/2010/wordml" xmlns:wpg="http://schemas.microsoft.com/office/word/2010/wordprocessingGroup" xmlns:wpi="http://schemas.microsoft.com/office/word/2010/wordprocessingInk" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml" xmlns:wps="http://schemas.microsoft.com/office/word/2010/wordprocessingShape" mc:Ignorable="w14 wp14"><w:body><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00E16FFF" w:rsidRPr="00CD526C" w:rsidRDefault="00E16FFF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00CD526C" w:rsidRPr="00CD526C" w:rsidRDefault="00CD526C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="52"/><w:szCs w:val="52"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CD526C"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="52"/><w:szCs w:val="52"/></w:rPr><w:t>Universal Serial Bus</w:t></w:r></w:p><w:p w:rsidR="000E612C" w:rsidRPr="00CD526C" w:rsidRDefault="00CD526C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CD526C"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidR="000E612C" w:rsidRPr="00CD526C"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Embedded </w:t></w:r><w:r w:rsidR="00EF5499"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">System </w:t></w:r><w:r w:rsidR="000E612C" w:rsidRPr="00CD526C"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Final Project</w:t></w:r><w:r w:rsidRPr="00CD526C"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="000E612C" w:rsidRPr="00B34822" w:rsidRDefault="00CD526C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00B34822"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>2013 FALL</w:t></w:r></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="000E612C" w:rsidRPr="0024298F" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2880"/><w:rPr><w:rFonts w:asciiTheme="majorHAnsi" w:eastAsia="新細明體" w:hAnsiTheme="majorHAnsi" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0024298F"><w:rPr><w:rFonts w:asciiTheme="majorHAnsi" w:eastAsia="新細明體" w:hAnsiTheme="majorHAnsi" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Chang Guem Song</w:t></w:r></w:p><w:p w:rsidR="000E612C" w:rsidRPr="0024298F" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2880"/><w:rPr><w:rFonts w:asciiTheme="majorHAnsi" w:eastAsia="新細明體" w:hAnsiTheme="majorHAnsi" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0024298F"><w:rPr><w:rFonts w:asciiTheme="majorHAnsi" w:eastAsia="新細明體" w:hAnsiTheme="majorHAnsi" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="00B0F0"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Lee Chul Hoon</w:t></w:r></w:p><w:p w:rsidR="000E612C" w:rsidRDefault="000E612C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00315DBB" w:rsidRDefault="00315DBB"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="001B5C57" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:lastRenderedPageBreak/><w:t>머</w:t></w:r><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:t>리</w:t></w:r><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/></w:rPr><w:t>말</w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="187"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>위대한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>수령</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>동지께서는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>다음과</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>같이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>교시하시였다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r></w:p><w:p w:rsidR="00200AD0" w:rsidRPr="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="187"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《인민경제현대화의</w:t></w:r><w:r w:rsidR="005E1653" w:rsidRPr="005E1653"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>목표는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>생산의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>종합적기계화</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>자동화입니다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인민경제를</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>현대화하려면</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인민경제</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>모든</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>부문에서</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>뒤떨어진</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>기술을</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>발전된</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>기술로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>개조하고</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>생산의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>종합적기계화와</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>자동화를</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>실현하여야</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>합니다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>》</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="right"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>저작집》</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>35</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 326</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">) </w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="187"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>위대한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>령도자</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>동지께서는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>다음과</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>같이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>지적하시였다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r></w:p><w:p w:rsidR="00200AD0" w:rsidRPr="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="187"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>20</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>세기는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>기계제산업의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대였다면</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> 21</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>세기는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보산업의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>될것입니다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>물질적부를</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>창조하는데서</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>기계제산업의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대에는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>주로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>육체로동에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>의거하였다면</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보산업의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대에는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>더욱더</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>지능로동에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>의거하게</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>될것입니다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>》</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="광명" w:eastAsia="광명" w:hAnsi="광명" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="002371BE" w:rsidRDefault="00527076" w:rsidP="004B4743"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:right="230"/><w:jc w:val="right"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>선집》</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>15</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 110</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004F27C7"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>위대한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>장군님께서</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>명시하신것처럼</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>현시대는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보산업의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대이다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>다시말하여</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인간의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>자주적이며</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>창조적인</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>지능활동이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>사회경제발전의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>강</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>력한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>추동력으로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>되며</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>사람들이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>주로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보와</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보기술을</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>활용하여</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>물질</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>문화적재부를</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>창조하고</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>향유하는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>시대이다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="100" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="307"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>위대한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>장군님의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정력적인</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>령도와</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>세심한</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>가르치심속에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>끊임없는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>발전과</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>비약의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>한길을</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>걸어온</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>우리</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>나라의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>정보과학기술은</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>온</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>세계앞에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>우리</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>당의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>과학기술중시정책의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>생활력을</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>남김없이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>과시하고있으며</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>우리의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>과학자</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>연구사들은</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인민경제활성화와</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인민생활향상에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>필수적인</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>능률</w:t></w:r><w:r w:rsidR="00112A48"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>높</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>은</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>프로그람들을</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>수많이</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>개발하고있다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>특히</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>오늘날</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>콤퓨터가</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>인간생활에</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>미치는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>영향은</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>자못</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>큰것으로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>하여</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>콤퓨터분야의</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>전문가들</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>앞에는</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>콤퓨터를</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>보다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>편리하고</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>효률적으로</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>리용할수</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>있도록</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>해야</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>할</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>과제가</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>나서고있다</w:t></w:r><w:r w:rsidRPr="00527076"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r></w:p><w:p w:rsidR="004F27C7" w:rsidRPr="00527076" w:rsidRDefault="004F27C7" w:rsidP="007B24CC"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="100" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="307"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>콤퓨터를 자유자재로 리용하는데서 자료입력을 원만히 하는 문제는 대단히 중요하다.최근에 USB에 의한 자료통신이 많이 리용되고 있다.여기서는 USB의 개념과 구성방식, 우리 식 조작체계의 기초인 Linux 체계에서의 USB구동프로그람에 대하여 해설한다.</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="004F27C7" w:rsidRDefault="00A56693" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="646481"/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00315DBB" w:rsidRDefault="00315DBB"><w:pPr><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00F50AD7" w:rsidRDefault="00A56693" w:rsidP="00637D4A"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00F50AD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:t>Content</w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00F50AD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="36"/><w:szCs w:val="36"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>s</w:t></w:r></w:p><w:p w:rsidR="007B24CC" w:rsidRPr="007B24CC" w:rsidRDefault="007B24CC" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="1F497D" w:themeColor="text2"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidRPr="007B24CC"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="1F497D" w:themeColor="text2"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>머리말</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="1F497D" w:themeColor="text2"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="005D1903"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 2</w:t></w:r></w:p><w:p w:rsidR="004D1B8A" w:rsidRPr="00A56693" w:rsidRDefault="004D1B8A" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter 0. USB </w:t></w:r><w:r w:rsidR="00B82550"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Introduction</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="005D1903"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 4</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00F50AD7"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>1.</w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00F50AD7"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00F50AD7"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>USB Architecture</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E472B2"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 8</w:t></w:r></w:p><w:p w:rsidR="007464E4" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>2.</w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Linux-USB Subsystem</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00643761"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 11</w:t></w:r></w:p><w:p w:rsidR="007464E4" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>3.</w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Driver Data Structures</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="001E4452"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 13</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>4.</w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Enumeration</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00683B2F"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00683B2F"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>16</w:t></w:r></w:p><w:p w:rsidR="007464E4" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">5. </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Device Example: Telemetry Card</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E86185"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 17</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">6. </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Class Drivers</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E86185"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 29</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">7. </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Gadget Drivers</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E86185"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 38</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">8. </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Debugging</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E86185"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 39</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRDefault="00FB4B99" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">Chapter </w:t></w:r><w:r w:rsidR="003600D2" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">9. </w:t></w:r><w:r w:rsidR="00A56693" w:rsidRPr="00C53F22"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/></w:rPr><w:t>Looking at the Sources</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="00E86185"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 40</w:t></w:r></w:p><w:p w:rsidR="007B24CC" w:rsidRPr="007B24CC" w:rsidRDefault="007B24CC" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidRPr="007B24CC"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>지침으로 삼은 문헌</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="007D658D"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 43</w:t></w:r></w:p><w:p w:rsidR="007B24CC" w:rsidRPr="007B24CC" w:rsidRDefault="007B24CC" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidRPr="007B24CC"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>참고문헌</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:r w:rsidR="007D658D"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 44</w:t></w:r></w:p><w:p w:rsidR="007B24CC" w:rsidRPr="007B24CC" w:rsidRDefault="007B24CC" w:rsidP="00637D4A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">   </w:t></w:r><w:r w:rsidRPr="007B24CC"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>맺는말</w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:b/><w:color w:val="00217B"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙∙</w:t></w:r><w:bookmarkStart w:id="0" w:name="_GoBack"/><w:bookmarkEnd w:id="0"/><w:r w:rsidR="007464E4"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>∙∙</w:t></w:r><w:r w:rsidR="007D658D"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="32"/><w:szCs w:val="32"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> 45</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00C53F22" w:rsidRDefault="00A56693" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="006C5D7D" w:rsidRDefault="006C5D7D" w:rsidP="00247A58"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRDefault="00A56693" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="006C5D7D" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006C5D7D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">USB </w:t></w:r><w:r w:rsidR="00683ECB"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Introduction</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="7"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>USB Overview</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB can seem complex at first. It has a plethora of devices and a fairly large variety</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>of embedded host controllers. It has several modes of operation, and a given controller</w:t></w:r><w:r w:rsidR="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>on a processor (or external to it) may have multiple modes of operation. If you’ve</w:t></w:r><w:r w:rsidR="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>looked at the full list of USB configuration options in a recent Linux kernel, you</w:t></w:r><w:r w:rsidR="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>quickly realize that it can be confusing to configure. We can eliminate some of that</w:t></w:r><w:r w:rsidR="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>confusion by understanding some basic USB concepts.</w:t></w:r></w:p><w:p w:rsidR="005A359A" w:rsidRPr="005A359A" w:rsidRDefault="005A359A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="005A359A" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="2"/><w:numId w:val="7"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>USB Physical Topology</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB is a master/slave bus topology. Each USB bus can have only one master, which</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is called a </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Italic" w:hAnsi="Verdana" w:cs="AGaramond-Italic"/><w:i/><w:iCs/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>host controller</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. Figure </w:t></w:r><w:r w:rsidR="005A359A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-1 illustrates the basic topology.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="06618E8A" wp14:editId="67A60A30"><wp:extent cx="4675779" cy="4233102"/><wp:effectExtent l="0" t="0" r="0" b="0"/><wp:docPr id="2" name="Picture 2" descr="C:\Users\Administrator\Documents\12.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 1" descr="C:\Users\Administrator\Documents\12.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId10"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="4675779" cy="4233102"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="006F49FC" w:rsidRPr="006F49FC" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/></w:rPr><w:t xml:space="preserve">FIGURE </w:t></w:r><w:r w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/></w:rPr><w:t xml:space="preserve">-1 </w:t></w:r><w:r w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/></w:rPr><w:t>Simple USB topology</w:t></w:r></w:p><w:p w:rsidR="006F49FC" w:rsidRPr="0028777B" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The host controller is always associated with a </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Italic" w:hAnsi="Verdana" w:cs="AGaramond-Italic"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>root hub</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. The root hub provides an</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>attachment point to the host controller and provides the hub functions at the top of</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the USB hierarchy. The most common arrangement is that a host controller and root</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">hub combination are brought out </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>directly to a connector (through a transceiver chip)</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>on the edge of the board. It is this connector that end users see.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The devices shown in Figure </w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">-1 are </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Italic" w:hAnsi="Verdana" w:cs="AGaramond-Italic"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoints</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>—physical USB appliances that</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">plug into a USB hub. A device may support several </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Italic" w:hAnsi="Verdana" w:cs="AGaramond-Italic"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>functions</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, such as an audio interface</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that provides input and output functionality. The important concept here is that every</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB device plugs into one and only one hub upstream of its location in the topology.</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Devices on the USB bus are operated in a polled manner, controlled by the host</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>controller. Only one device at a time can communicate on the bus, as directed by the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">host controller. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Mechanisms exist in the specification to allocate a specified portion of</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bandwidth to a given function within a device.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>One of USB’s most successful features is that it is dynamic and truly hot-swappable.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Devices can be plugged into the USB bus at any time. Software running on the computer</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(Linux, of course) that contains the host controller is responsible for configuring</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the USB devices when they appear in the topology.</w:t></w:r></w:p><w:p w:rsidR="006F49FC" w:rsidRPr="006F49FC" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="006F49FC" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>.1.2 USB Logical Topology</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>To better understand the software components and data flow in a USB system, it is</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">useful to understand USB’s logical topology. Figure </w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-2 shows the logical makeup of</w:t></w:r><w:r w:rsidR="006F49FC"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>a hypothetical USB device.</w:t></w:r></w:p><w:p w:rsidR="006F49FC" w:rsidRPr="0028777B" w:rsidRDefault="006F49FC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00446162" w:rsidRPr="00733CC3" w:rsidRDefault="00384358" w:rsidP="00733CC3"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="67E1CD45" wp14:editId="5C8CB73E"><wp:extent cx="5410200" cy="4326633"/><wp:effectExtent l="0" t="0" r="0" b="0"/><wp:docPr id="12" name="Picture 12" descr="C:\Users\Administrator\Documents\13.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 2" descr="C:\Users\Administrator\Documents\13.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId11"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5410460" cy="4326841"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r><w:r w:rsidR="00446162" w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/></w:rPr><w:t xml:space="preserve">FIGURE 18-2 </w:t></w:r><w:r w:rsidR="00446162" w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/><w:b/></w:rPr><w:t>USB device functional block diagram</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00446162" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Each USB device has a number of descriptors1 that allow software to discover capabilities</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and configure functionality. Every device must have a single device descriptor, which</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contains information such as manufacturer (</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>idVendor</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), product (</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>idProduct</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), serial</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>number (</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>iSerialNumber</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), and the number of configurations (</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bNumConfigurations</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>). The</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>identifiers in parentheses are the actual field names referenced in the USB 2.0 specification.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00446162" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Every configuration identified in the device descriptor has a configuration descriptor.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The configuration descriptor contains the number of interfaces (</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bNumInterfaces</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>)</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>available for each configuration and also indicates the maximum power required when</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>operated in this configuration (</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bMaxPower</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>). Most often, a USB device contains only a</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>single configuration. However, some devices may have high and low power modes, or</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>even different functions available in a single device. These types of devices may contain</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>multiple configurations. Plug your iPod into a USB host, and you will see an example</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>of multiple configurations, interfaces, and endpoints!</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Each interface described by a configuration descriptor has an interface descriptor.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The interface descriptor contains a field specifying how many endpoints a device has</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bNumEndpoints</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>). Endpoint 0 is always assumed to exist and is not included in the</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>interface count. The interface descriptor also includes information describing the interface</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>class, subclass, and protocol as defined by the USB specifications.</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The USB endpoint is the actual logical element that software communicates with</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>during operation of the USB device. Each endpoint described by an interface descriptor</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(excluding endpoint 0) contains an endpoint descriptor. The endpoint descriptor</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>defines the endpoint’s communication parameters, including the endpoint address and</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>various endpoint attributes describing the characteristics of the data transfer from each</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint.</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Later in this chapter, we introduce the utility </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="Courier" w:hAnsi="Verdana" w:cs="Courier"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>lsusb</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which allows you to read these</w:t></w:r><w:r w:rsidR="009D1AA7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>descriptors.</w:t></w:r></w:p><w:p w:rsidR="00446162" w:rsidRPr="0028777B" w:rsidRDefault="00446162" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="00446162" w:rsidRDefault="00446162" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>.1.</w:t></w:r><w:r w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>3</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> USB Connectors</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="004B32DA"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Unless you are a USB expert, the variety of USB connector and cable configurations</w:t></w:r><w:r w:rsidR="004B32DA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>can be confusing. The most familiar connector type, defined by the original specification,</w:t></w:r><w:r w:rsidR="004B32DA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the USB A connector. This is the familiar rectangular connector most commonly</w:t></w:r><w:r w:rsidR="004B32DA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>found on laptop and desktop PCs. The plug end of the USB A connector, by</w:t></w:r><w:r w:rsidR="004B32DA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">definition, always points upstream, toward the host controller/root hub. Figure </w:t></w:r><w:r w:rsidR="00446162"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-3</w:t></w:r><w:r w:rsidR="004B32DA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>shows a standard USB A plug.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="1D5EA3EF" wp14:editId="52C3DC91"><wp:extent cx="5095875" cy="2705100"/><wp:effectExtent l="0" t="0" r="9525" b="0"/><wp:docPr id="13" name="Picture 13" descr="C:\Users\Administrator\Documents\14.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 3" descr="C:\Users\Administrator\Documents\14.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId12"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5095875" cy="2705100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="007011FF" w:rsidRDefault="007011FF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007011FF"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/></w:rPr><w:t xml:space="preserve">FIGURE </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="007011FF"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/></w:rPr><w:t xml:space="preserve">-3 </w:t></w:r><w:r w:rsidRPr="007011FF"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/></w:rPr><w:t>USB A plug</w:t></w:r></w:p><w:p w:rsidR="007011FF" w:rsidRPr="007011FF" w:rsidRDefault="007011FF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:b/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="0077535B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A peripheral (slave) device such as a printer or scanner often has the USB B receptacle</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and accepts a USB B plug, also defined by the original USB specification. A common</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>cable suitable for connection between a host (such as a PC) and a peripheral (such</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>as a printer) has an A plug on one end and a B plug on the other. It is more narrow</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>than the A plug and has more of a D shape than rectangular. The USB B connector</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>by definition always points downstream, or away from the host controller/root hub.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-4 shows a USB B plug.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="3EF19139" wp14:editId="545D1CC9"><wp:extent cx="5191125" cy="2886075"/><wp:effectExtent l="0" t="0" r="9525" b="9525"/><wp:docPr id="14" name="Picture 14" descr="C:\Users\Administrator\Documents\15.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 4" descr="C:\Users\Administrator\Documents\15.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId13"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5191125" cy="2886075"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00F85383" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/></w:rPr><w:t xml:space="preserve">FIGURE 18-4 </w:t></w:r><w:r w:rsidRPr="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Book" w:hAnsi="Verdana" w:cs="LegacySans-Book"/></w:rPr><w:t>USB B plug</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>There are also a couple of miniature plug configurations. Smaller form factor devices</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>such as cell phones and PDAs drove the requirement for even smaller plugs and</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>receptacles. The USB Mini-A connector has been made obsolete by the specifications,</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>although it is still in use. The Mini-B connector is widely used on small peripheral</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>devices.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>The Micro-USB specification defines three additional connectors—a Micro-B plug</w:t></w:r><w:r w:rsidR="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and receptacle, a Micro-AB receptacle, and a Micro-A plug. The Micro-AB receptacle</w:t></w:r><w:r w:rsidR="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is for use only on USB On-The-Go (OTG) appliances, discussed later.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>To summarize the standard A and B connectors, the A receptacle is always on the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>host side (the A plug always points upstream), and the B connector is always on the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">peripheral side (the B plug always points downstream.) Table </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-1 summarizes these</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>characteristics.</w:t></w:r></w:p><w:p w:rsidR="00F85383" w:rsidRPr="0028777B" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="00F85383" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidR="00384358" w:rsidRPr="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:b/><w:color w:val="5F5F5F"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>.1.5 USB Cable Assemblies</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRDefault="00384358" w:rsidP="00562AEB"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The latest USB specifications define the cable assemblies listed in Table 18-2 as the</w:t></w:r><w:r w:rsidR="00562AEB"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>only compliant cables.</w:t></w:r></w:p><w:p w:rsidR="00F85383" w:rsidRPr="0028777B" w:rsidRDefault="00F85383" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">TABLE </w:t></w:r><w:r w:rsidR="00F85383"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium" w:hint="eastAsia"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="LegacySans-Medium" w:hAnsi="Verdana" w:cs="LegacySans-Medium"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>-2 USB Cables and Typical Applications</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="6D7288"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="13262623" wp14:editId="3991BB65"><wp:extent cx="6076950" cy="1900881"/><wp:effectExtent l="0" t="0" r="0" b="4445"/><wp:docPr id="15" name="Picture 15" descr="C:\Users\Administrator\Documents\16.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 5" descr="C:\Users\Administrator\Documents\16.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId14"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="6076950" cy="1900881"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="0028777B" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="0028777B"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="AGaramond-Regular" w:hAnsi="Verdana" w:cs="AGaramond-Regular"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>It is possible to purchase other types of cable assemblies that are not listed here.</w:t></w:r></w:p><w:p w:rsidR="00384358" w:rsidRPr="00384358" w:rsidRDefault="00384358" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00A56693" w:rsidRPr="00B07ADE" w:rsidRDefault="00A56693" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00B07ADE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>USB Architecture</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRDefault="00F04852" w:rsidP="00826862"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="002F1C0A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB is a master-slave protocol where a host controller communicates with client devices. </w:t></w:r><w:r w:rsidR="00A56693"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure 1 </w:t></w:r><w:r w:rsidR="00A56693"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>shows</w:t></w:r><w:r w:rsidR="00F75426"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB in the PC environment. The USB host controller is part of the South Bridge chipset and communicates with</w:t></w:r><w:r w:rsidR="00F75426"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00A56693"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the processor over the PCI bus.</w:t></w:r></w:p><w:p w:rsidR="00796461" w:rsidRDefault="00796461" w:rsidP="00796461"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure 2 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>illustrates USB on an embedded device. The SoC</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(System On Chip)</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> in the figure has built-in USB controller silicon that</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>supports four buses and three modes of operation:</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00796461" w:rsidRDefault="00796461" w:rsidP="00796461"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Bus 1 runs in host mode and is wired to an A-type receptacle via a USB transceiver (see the sidebar "</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Receptacles and Transceivers</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>"). You can connect a USB pen drive or a keyboard to this port.</w:t></w:r></w:p><w:p w:rsidR="00796461" w:rsidRDefault="00796461" w:rsidP="00796461"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Bus 2 also functions in host mode but the associated transceiver is connected to an internal USB device</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>rather than to a receptacle. Examples of internal USB devices are biometric scanners, cryptographic</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">engines, printers, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Disk-On-Chips </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(DOCs), touch controllers, and telemetry cards.</w:t></w:r></w:p><w:p w:rsidR="00796461" w:rsidRDefault="00796461" w:rsidP="00796461"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Bus 3 runs in device mode and is wired to a B-type receptacle through a transceiver. The B-type</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>receptacle connects to a host computer via a B-to-A cable. In this mode, the embedded device functions</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">as, for example, a USB pen drive, and exports a storage </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>partition to the outside world. Embedded devices</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>such as MP3 players and cell phones are more likely than PC systems to be at the device side of USB, so</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>many embedded SoCs support a USB device controller in addition to a host controller.</w:t></w:r></w:p><w:p w:rsidR="00A56693" w:rsidRDefault="00A56693" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="26CEF1C0" wp14:editId="6C1D2757"><wp:extent cx="5816009" cy="3729841"/><wp:effectExtent l="0" t="0" r="0" b="4445"/><wp:docPr id="3" name="Picture 3" descr="C:\Users\Administrator\Documents\1.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 3" descr="C:\Users\Administrator\Documents\1.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId15"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5823971" cy="3734947"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="005811A8" w:rsidRDefault="005811A8" w:rsidP="005811A8"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 1.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB in the PC environment.</w:t></w:r></w:p><w:p w:rsidR="005811A8" w:rsidRDefault="005811A8" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00871C5A" w:rsidRDefault="009123FF" w:rsidP="00826862"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Bus 4 is driven by an </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">On-The-Go </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(OTG) controller. You can use this port, for example, to either connect a</w:t></w:r><w:r w:rsidR="00405597"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pen drive to your system or to turn your system into a pen drive and connect it to a host. Unlike buses 1</w:t></w:r><w:r w:rsidR="00405597"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to 3, bus 4 uses an intelligent transceiver that exchanges control information with the processor over I</w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t>2</w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C.</w:t></w:r><w:r w:rsidR="00405597"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The transceiver is wired to a Mini-AB OTG receptacle. If two embedded devices support OTG, they can</w:t></w:r><w:r w:rsidR="00405597"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>directly communicate without the intervention of a host computer.</w:t></w:r></w:p><w:p w:rsidR="00405597" w:rsidRPr="00405597" w:rsidRDefault="00405597" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00871C5A" w:rsidRDefault="00871C5A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B07ADE" w:rsidRDefault="002F1C0A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">1.1 </w:t></w:r><w:r w:rsidR="00B07ADE" w:rsidRPr="00B07ADE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Bus Speeds</w:t></w:r></w:p><w:p w:rsidR="00B07ADE" w:rsidRPr="00B07ADE" w:rsidRDefault="00B07ADE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B07ADE" w:rsidRDefault="00B07ADE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB supports three operational speeds. The original USB 1.0 specification supports 1.5MBps, referred to as low</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>speed</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB. USB 1.1, the next version of the specification, handles 12MBps, called full-speed USB. The current</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>level of the specification is USB 2.0, which supports 480MBps, or high-speed USB. USB 2.0 is backward</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>compatible</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>with the earlier versions of the specification. Peripherals such as USB keyboards and mice are</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>examples of low-speed devices, and USB storage drives are examples of full-speed and high-speed devices.</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Today's PC systems </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>are USB 2.0-compliant and allow all three target speeds, but some embedded controllers</w:t></w:r><w:r w:rsidR="00DF6275"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>adhere to USB 1.1 and support only full-speed and low-speed modes of operation.</w:t></w:r></w:p><w:p w:rsidR="00871C5A" w:rsidRDefault="00871C5A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00871C5A" w:rsidRDefault="00871C5A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00871C5A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="357B3795" wp14:editId="53101616"><wp:extent cx="5943600" cy="3895130"/><wp:effectExtent l="0" t="0" r="0" b="0"/><wp:docPr id="4" name="Picture 4" descr="C:\Users\Administrator\Documents\2.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 4" descr="C:\Users\Administrator\Documents\2.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId16"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="3895130"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00933411" w:rsidRDefault="00933411" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 2. USB on an embedded system.</w:t></w:r></w:p><w:p w:rsidR="00871C5A" w:rsidRDefault="00871C5A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="002F1C0A" w:rsidRDefault="002F1C0A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="002F1C0A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">1.2 </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="002F1C0A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Host Controllers</w:t></w:r></w:p><w:p w:rsidR="00D87B8A" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB host controllers conform to one of a few standards:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Universal Host Controller Interface (UHCI): </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The UHCI specification was initiated by Intel, so your PC</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is likely to have this controller if it's Intel-based.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Open Host Controller Interface (OHCI): </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The OHCI specification originated from companies such as</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Compaq and Microsoft. An OHCI-compatible controller has more intelligence built in to hardware than</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>UHCI, so an OHCI HCD is relatively simpler than a UHCI HCD.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Enhanced Host Controller Interface (EHCI): </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This is the host controller that supports high-speed USB</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>2.0 devices. EHCI controllers usually have either a UHCI or OHCI companion controller to handle slower</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>devices.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB OTG controllers: </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>They are getting increasingly popular in embedded microcontrollers. With OTG</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">support, each communicating end can act as a </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">dual-role device </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(DRD). By initiating a dialog using the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Host Negotiation Protocol </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(HNP), a DRD can switch itself to host mode or device mode based on the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>desired functionality.</w:t></w:r></w:p><w:p w:rsidR="00D87B8A" w:rsidRPr="00D87B8A" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>In addition to these</w:t></w:r><w:r w:rsidR="00D87B8A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>mainstream USB host controllers, Linux supports a few more controllers. An example is the</w:t></w:r><w:r w:rsidR="00D87B8A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>HCD for the ISP116x chip.</w:t></w:r><w:r w:rsidR="00D87B8A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Host controllers have a built-in hardware component called the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">root hub. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The root hub is a virtual hub that</w:t></w:r><w:r w:rsidR="00D87B8A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sources USB ports. The ports, in turn, can connect to external or internal physical hubs and source more ports,</w:t></w:r><w:r w:rsidR="00D87B8A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>yielding a tree topology.</w:t></w:r></w:p><w:p w:rsidR="00D87B8A" w:rsidRDefault="00D87B8A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00A6404E" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00A6404E"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Transfer Types</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Data exchange with a USB device can be one of four types:</w:t></w:r></w:p><w:p w:rsidR="0059162D" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Control transfers, used to carry configuration and control information</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Bulk transfers that ferry large quantities of time-insensitive data</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Interrupt transfers that exchange small quantities of time-sensitive data</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Isochronous</w:t></w:r><w:r w:rsidR="00E2663D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidR="00E2663D" w:rsidRPr="00E2663D"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>같은 시간간격의</w:t></w:r><w:r w:rsidR="00E2663D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>)</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> transfers for real-time data at predictable bit rates</w:t></w:r></w:p><w:p w:rsidR="0059162D" w:rsidRPr="0059162D" w:rsidRDefault="0059162D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A USB storage drive, for example, uses control transfers to issue disk access commands and bulk transfers to</w:t></w:r><w:r w:rsidR="00D45D12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>exchange data. A keyboard uses interrupt transfers to carry key strokes within predictable delays. A device that</w:t></w:r><w:r w:rsidR="00D45D12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">needs to stream audio data in real time uses isochronous transfers. </w:t></w:r></w:p><w:p w:rsidR="00D45D12" w:rsidRPr="00D45D12" w:rsidRDefault="00D45D12" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00D45D12" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00D45D12"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Addressing</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Each addressable unit in a USB device is called an </w:t></w:r><w:r w:rsidRPr="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The address assigned to an endpoint is called an</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint address</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Each endpoint address has an associated data transfer type. If an endpoint is responsible for</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bulk data transfer, for example, it's called a </w:t></w:r><w:r w:rsidRPr="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk endpoint</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Endpoint address 0 is used exclusively for device</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>configuration. A control pipe is attached to this endpoint for device enumeration (see the section</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>"</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Enumeration</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>").</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>An endpoint can be associated with upstream or downstream data transfer. Data arriving upstream from a</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">device is called an </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">transfer, whereas data flowing downstream to a device is an </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">transfer. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>OUT</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">transfers own separate address spaces. So, you can have a bulk </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">endpoint and a bulk </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint answering</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to the same address.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB resembles I</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t>2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">C on some counts and PCI on others as summarized in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table 1</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. USB's device addressing is</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>similar to I</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t>2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C, while it supports hotplugging like PCI. USB device addresses, like standard I</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t>2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C, do not consume a</w:t></w:r><w:r w:rsidR="00C517BA"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>portion of the CPU's address space. Rather, they reside in a private space ranging from 1 to 127.</w:t></w:r></w:p><w:p w:rsidR="00C517BA" w:rsidRDefault="00C517BA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00DE7152" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00DE7152"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Linux-USB Subsystem</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Look at </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure 3 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to understand the architecture of the Linux-USB subsystem. The constituent pieces of the</w:t></w:r><w:r w:rsidR="00C64807"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>subsystem are as follows:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00F70BBB" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>●</w:t></w:r><w:r w:rsidR="003E4932"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The USB core. Like the core layers of driver subsystems, the USB core is</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>a code base consisting of routines and structures available to HCDs and client drivers. The core also</w:t></w:r><w:r w:rsidR="003E4932"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>provides a level of indirection that renders client drivers independent of host controllers.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="003E4932" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>HCDs that drive different host controllers.</w:t></w:r></w:p><w:p w:rsidR="00D401A6" w:rsidRDefault="003E4932" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A hub driver for the root hub (and physical hubs) and a helper kernel thread </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="003E4932"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>khubd</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that monitors all ports</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>connected to the hub. Detecting port status changes and configuring hotplugged devices is time</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>consuming</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and is best accomplished using a helper thread </w:t></w:r><w:r w:rsidR="00D401A6"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The khubd thread is asleep by default. The hub driver wakes khubd whenever it detects a</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>status change on a USB port connected to it.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00F3189C" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Device drivers for USB client devices.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="001C50DD" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The USB filesystem </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usbfs </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">that lets you drive USB devices from user space. </w:t></w:r></w:p><w:p w:rsidR="001C50DD" w:rsidRPr="001C50DD" w:rsidRDefault="001C50DD" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 3. The Linux-USB subsystem.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="2B2C245B" wp14:editId="577B9325"><wp:extent cx="5380074" cy="4510382"/><wp:effectExtent l="0" t="0" r="0" b="5080"/><wp:docPr id="5" name="Picture 5" descr="C:\Users\Administrator\Documents\3.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 5" descr="C:\Users\Administrator\Documents\3.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId17"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5387401" cy="4516525"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>For end-to-end operation, the USB subsystem calls on various other kernel layers for assistance. To support</w:t></w:r><w:r w:rsidR="003C7BE7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB mass storage devices, for example, the USB subsystem works in tandem with SCSI drivers, as shown in</w:t></w:r><w:r w:rsidR="003C7BE7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 3</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. To drive USB-Bluetooth keyboards, the stakeholders are fourfold: the USB subsystem, the</w:t></w:r><w:r w:rsidR="003C7BE7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Bluetooth layer, the input subsystem, and the tty layer.</w:t></w:r></w:p><w:p w:rsidR="00933411" w:rsidRPr="00933411" w:rsidRDefault="00933411" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00D01239" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r w:rsidRPr="00D01239"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Driver Data Structures</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>When you write a USB client driver, you have to work with several data structures. Let's look at the important</w:t></w:r><w:r w:rsidR="00707C91"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ones.</w:t></w:r></w:p><w:p w:rsidR="006343B0" w:rsidRPr="006343B0" w:rsidRDefault="006343B0" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00707C91" w:rsidRDefault="00707C91" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00707C91"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">3.1 </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="00707C91"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="00707C91"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve">usb_device </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="00707C91"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Structure</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Each device driver subsystem relies on a special-purpose data structure to internally represent a device. The</w:t></w:r><w:r w:rsidR="005928E2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure is to the USB subsystem, what </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">pci_dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is to the PCI layer, and what </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">net_device </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is to the</w:t></w:r><w:r w:rsidR="008B60C2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">network driver layer. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is defined in </w:t></w:r><w:r w:rsidR="008B60C2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">include/linux/usb.h </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>as follows:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>enum usb_device_state state; /* Configured, Not Attached, etc */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>enum usb_device_speed speed; /* High/full/low (or error) */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device *parent; /* Our hub, unless we're the root */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device_descriptor descriptor; /* Descriptor */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_host_config *config; /* All of the configs */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_host_config *actconfig; /* The active config */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int maxchild; /* No: of ports if hub */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device *children[USB_MAXCHILDREN]; /* Child devices */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="008B60C2" w:rsidRPr="008B60C2" w:rsidRDefault="008B60C2" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>We use this structure when we develop an example driver for a USB telemetry card later.</w:t></w:r></w:p><w:p w:rsidR="00397145" w:rsidRPr="00397145" w:rsidRDefault="00397145" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00A22E90" w:rsidRDefault="00397145" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00397145"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">3.2 </w:t></w:r><w:r w:rsidR="00B93DDE" w:rsidRPr="00397145"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>USB Request Blocks</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB Request Block </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">(URB) is the centerpiece of the USB data transfer mechanism. Let's take a peek inside a URB. The following definition is from </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>include/linux/usb.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, omitting fields not of</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>particular interest to device drivers:</w:t></w:r></w:p><w:p w:rsidR="00997DDF" w:rsidRPr="00997DDF" w:rsidRDefault="00997DDF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct urb</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct kref kref; /* Reference count of the URB */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device *dev; /* (in) pointer to associated</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned int pipe; /* (in) pipe information */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int status; /* (return) non-ISO status */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned int transfer_flags; /* (in) URB_SHORT_NOT_OK | ...*/</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>void *transfer_buffer; /* (in) associated data buffer */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>dma_addr_t transfer_dma; /* (in) dma addr for</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>transfer_buffer */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int transfer_buffer_length; /* (in) data buffer length */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned char *setup_packet; /* (in) setup packet */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int interval; /* (modify) transfer interval</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(INT/ISO) */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>void *context; /* (in) context for completion */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_complete_t complete; /* (in) completion routine */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00997DDF" w:rsidRPr="00997DDF" w:rsidRDefault="00997DDF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">There are three steps to using a URB: create, populate, and submit. To create a URB, use </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_alloc_urb()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00EF1F46"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This function allocates and zeros-out URB memory, initializes a kobject associated with the URB, and initializes a</w:t></w:r><w:r w:rsidR="00EF1F46"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>spinlock to protect the URB.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>To populate a URB, use the following helper routines offered by the USB core:</w:t></w:r></w:p><w:p w:rsidR="00EF1F46" w:rsidRPr="00EF1F46" w:rsidRDefault="00EF1F46" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>void usb_fill_[control|int|bulk]_urb(</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct urb *urb, /* URB pointer */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device *usb_dev, /* USB device structure */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned int pipe, /* Pipe encoding */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned char *setup_packet, /* For Control URBs only! */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>void *transfer_buffer, /* Buffer for I/O */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int buffer_length, /* I/O buffer length */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_complete_t completion_fn, /* Callback routine */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>void *context, /* For use by completion_fn */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int interval); /* For Interrupt URBs only! */</w:t></w:r></w:p><w:p w:rsidR="00EF1F46" w:rsidRPr="00EF1F46" w:rsidRDefault="00EF1F46" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>These</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>helper routines are available to control, interrupt, and bulk URBs but not to isochronous ones.</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">To submit a URB for data transfer, use </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_submit_urb()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. URB submission is </w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>asynchronous. The</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_fill_[control|int|bulk]_urb() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>functions listed previously take the address of a callback function as</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>argument. The callback routine executes after the URB submission completes and accomplishes things such as</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>checking submission status and freeing the data-transfer buffer.</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The USB core also offers wrapper interfaces that provide a façade of synchronous URB submission:</w:t></w:r></w:p><w:p w:rsidR="00B83E12" w:rsidRPr="00B83E12" w:rsidRDefault="00B83E12" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>int usb_[control|interrupt|bulk]_msg(struct usb_device *usb_dev,</w:t></w:r><w:r w:rsidR="00B83E12"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>unsigned int pipe, ...);</w:t></w:r></w:p><w:p w:rsidR="00A22E90" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_bulk_msg ()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, for example, builds a bulk URB, submits it, and blocks until the operation completes. You</w:t></w:r><w:r w:rsidR="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">don't have to supply a callback function because a generic completion routine </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>serves that purpose. You don't</w:t></w:r><w:r w:rsidR="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">need to explicitly create and populate the URB either, because </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_bulk_msg() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>does that for you at no</w:t></w:r><w:r w:rsidR="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>additional cost. We will use this interface in our example driver.</w:t></w:r><w:r w:rsidR="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_free_urb() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is used to free a reference to a completed URB, whereas </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_unlink_urb() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>cancels a pending</w:t></w:r><w:r w:rsidR="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>URB operation.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">A </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">URB contains a kref object to track references to it. </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_submit_urb() </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>increments the reference count using</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>kref_get()</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_free_urb() </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">decrements the reference count using </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">kref_put() </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and performs the free</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>operation only if there are no remaining references.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A URB is associated with an abstraction called a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pipe</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which we discuss next.</w:t></w:r></w:p><w:p w:rsidR="00A22E90" w:rsidRPr="00A22E90" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00A22E90" w:rsidRPr="00A22E90" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00A22E90"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Pipes</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A pipe is an integer encoding of a combination of the following:</w:t></w:r></w:p><w:p w:rsidR="00A22E90" w:rsidRPr="00A22E90" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The endpoint address</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The direction of data transfer (</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">or </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>OUT</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The type of data transfer (control, interrupt, bulk, or isochronous)</w:t></w:r></w:p><w:p w:rsidR="00A22E90" w:rsidRPr="00A22E90" w:rsidRDefault="00A22E90" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A pipe is the address element of each USB data transfer and is an important field in the URB structure. To help</w:t></w:r><w:r w:rsidR="005C73D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>populate this field, the USB core provides the following helper macros:</w:t></w:r></w:p><w:p w:rsidR="005C73D1" w:rsidRPr="005C73D1" w:rsidRDefault="005C73D1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="005C73D1" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_[rcv|snd][ctrl|int|bulk|isoc]pipe(struct usb_device *usb_dev,</w:t></w:r><w:r w:rsidR="005C73D1"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="3600" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 endpointAddress);</w:t></w:r></w:p><w:p w:rsidR="005C73D1" w:rsidRPr="005C73D1" w:rsidRDefault="005C73D1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">where </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is a pointer to the associated </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">endpointAddress </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the assigned</w:t></w:r><w:r w:rsidR="00FA5A87"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">endpoint address between 1 and 127. To create a bulk pipe in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>direction, for example, call</w:t></w:r><w:r w:rsidR="00FA5A87"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_sndbulkpipe()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. For a control pipe in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">direction, invoke </w:t></w:r><w:r w:rsidR="00FA5A87"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_rcvctrlpipe()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>While referring to a URB, it's often qualified by the transfer type of the associated pipe. If a URB is attached to a</w:t></w:r><w:r w:rsidR="00EB2F54"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bulk pipe, for example, it's called a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk URB</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00933411" w:rsidRPr="00EB2F54" w:rsidRDefault="00933411" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00EB2F54" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00EB2F54"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Descriptor Structures</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The USB specification defines a series of </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">descriptors </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to hold information about a device. The Linux-USB core</w:t></w:r><w:r w:rsidR="007E51D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>defines data structures corresponding to each descriptor. Descriptors are of four types:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="007E51D9" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Device descriptors </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contain general information such as the product ID and vendor ID of the</w:t></w:r><w:r w:rsidR="004017A8"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device_descriptor </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the structure corresponding to device descriptors.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="007E51D9" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Configuration descriptors </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>are used to describe different configuration modes such as bus-powered and</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">self-powered operation. </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_config_descriptor </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the data structure associated with configuration</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>descriptors.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="007E51D9" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Interface descriptors </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">allow USB devices to support multiple functions. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_interface_descriptor </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>defines</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>interface descriptors.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="007E51D9" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Endpoint descriptors </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>carry information associated with the final endpoints of a device.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_endpoint_descriptor </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the structure in question.</w:t></w:r></w:p><w:p w:rsidR="002840F9" w:rsidRPr="002840F9" w:rsidRDefault="002840F9" w:rsidP="00933411"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">These descriptor formats are defined in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Chapter 9 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>of the USB specification, whereas the matching structures are</w:t></w:r><w:r w:rsidR="007E51D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">defined in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">include/linux/usb/ch9.h. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 1 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>shows the hierarchical topology of the descriptors and prints all</w:t></w:r><w:r w:rsidR="007E51D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint addresses associated with a USB device. To this end, it traverses the tree consisting of the four types</w:t></w:r><w:r w:rsidR="007E51D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">of descriptors described previously. The following is the output generated by </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 1 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for a USB CD drive:</w:t></w:r></w:p><w:p w:rsidR="007E51D9" w:rsidRPr="007E51D9" w:rsidRDefault="007E51D9" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Endpoint Address = 1</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Endpoint Address = 82</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Endpoint Address = 83</w:t></w:r></w:p><w:p w:rsidR="007E51D9" w:rsidRPr="007E51D9" w:rsidRDefault="007E51D9" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The first address belongs to a bulk </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">endpoint, the second address is owned by a bulk </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint, and the</w:t></w:r><w:r w:rsidR="00B54FD5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">third addresses an interrupt </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">There are more data structures associated with USB client drivers, such as </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_device_id</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_driver</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, and</w:t></w:r><w:r w:rsidR="00B54FD5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_class_driver</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRPr="00D06F74" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="1"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00D06F74"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Enumeration</w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The life of a hotplugged USB device starts with a process called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">enumeration </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>by which the host learns about the</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device's capabilities and configures it. The hub driver is the component in the Linux-USB subsystem responsible</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for enumeration. Let's look at the sequence of steps that achieve device enumeration when you plug in a USB</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pen drive into a host computer:</w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRPr="002533D1" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="0083344C" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The root hub reports a change in the port's current due to the device attachment. The hub driver detects</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">this status change, called a </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB_PORT_STAT_C_CONNECTION </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>in Linux-USB terminology, and awakens khubd.</w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRPr="002533D1" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="0083344C" w:rsidRPr="002533D1" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Khubd deciphers</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Batang" w:eastAsia="Batang" w:hAnsi="Batang" w:cs="Batang" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>해독하다</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>)</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> the identity of the USB port subjected to the status change. In this case, it's the port</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>where you plugged in the pen drive.</w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRPr="002533D1" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Next, khubd chooses a device address between 1 and 127 and assigns it to the pen drive's bulk endpoint</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">using a control URB attached to endpoint </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="0083344C" w:rsidRDefault="0083344C" w:rsidP="0083344C"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Khubd uses the above control URB attached to endpoint </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">0 </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to obtain the device descriptor from the pen</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drive. It then requests the device's configuration descriptors and selects a suitable one. In the case of the</w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pen drive, only a single configuration descriptor is on offer.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 1. Print All USB Endpoint Addresses on a Device</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="3AC8D559" wp14:editId="45AD882E"><wp:extent cx="5688330" cy="6411595"/><wp:effectExtent l="0" t="0" r="7620" b="8255"/><wp:docPr id="6" name="Picture 6" descr="C:\Users\Administrator\Documents\4.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 6" descr="C:\Users\Administrator\Documents\4.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId18"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5688330" cy="6411595"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">5. </w:t></w:r><w:r w:rsidR="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Khubd requests the USB core to bind a matching client driver to the inserted device.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>When enumeration is complete and the device is bound to a driver, khubd invokes the associated client driver's</w:t></w:r><w:r w:rsidR="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method. In this case, khubd calls </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">storage_probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>defined in</w:t></w:r><w:r w:rsidR="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">drivers/usb/storage/usb.c. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>From this</w:t></w:r><w:r w:rsidR="002533D1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>point on, the mass storage driver is responsible for normal device operation.</w:t></w:r></w:p><w:p w:rsidR="002533D1" w:rsidRPr="002533D1" w:rsidRDefault="002533D1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="009E2956" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r w:rsidRPr="009E2956"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Device Example: Telemetry</w:t></w:r><w:r w:rsidR="006F0F31"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidR="006F0F31" w:rsidRPr="006F0F31"><w:rPr><w:rFonts w:ascii="Batang" w:eastAsia="Batang" w:hAnsi="Batang" w:cs="Batang" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>원격측정공학</w:t></w:r><w:r w:rsidR="006F0F31"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>)</w:t></w:r><w:r w:rsidRPr="009E2956"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t xml:space="preserve"> Card</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Now that you know the basics of Linux-USB, it's time to look at an example device. Consider a system equipped</w:t></w:r><w:r w:rsidR="006B0188"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">with a telemetry card connected to the processor via internal USB, as shown in bus 2 of </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. The card</w:t></w:r><w:r w:rsidR="001514F2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>acquires data from a remote device and ferries it to the processor over USB. An example telemetry card is a</w:t></w:r><w:r w:rsidR="001514F2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">medical-grade board that monitors or programs an </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>implanted device.</w:t></w:r><w:r w:rsidR="001514F2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Let's assume that our example telemetry card has the following endpoints having the semantics described in</w:t></w:r><w:r w:rsidR="001514F2"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table 2</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="00973667" w:rsidRPr="00973667" w:rsidRDefault="00973667" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00973667" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A control endpoint attached to an on-card configuration register</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00973667" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A bulk </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint that passes remote telemetry information collected by the card to the processor</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00973667" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A bulk </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint that transfers data in the reverse direction</w:t></w:r></w:p><w:p w:rsidR="00973667" w:rsidRPr="00973667" w:rsidRDefault="00973667" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table 2. Register Space in the Telemetry Card</w:t></w:r></w:p><w:p w:rsidR="0073236B" w:rsidRPr="0073236B" w:rsidRDefault="0073236B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:noProof/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="2D4E262D" wp14:editId="2A1B618B"><wp:extent cx="5943600" cy="1435453"/><wp:effectExtent l="0" t="0" r="0" b="0"/><wp:docPr id="1" name="Picture 1" descr="C:\Users\Administrator\Documents\7.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 1" descr="C:\Users\Administrator\Documents\7.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId19"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="1435453"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Let's build a minimal driver for this card partly based on the USB skeleton driver, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/usb-skeleton.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00BD5907" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Because PCMCIA, PCI, and USB devices have similar characteristics such as hotplug support, some driver</w:t></w:r><w:r w:rsidR="00BD5907"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>methods and data structures belonging to these subsystems resemble each other. This is especially true for the</w:t></w:r><w:r w:rsidR="00BD5907"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">portions responsible for initializing and probing. </w:t></w:r></w:p><w:p w:rsidR="00BD5907" w:rsidRDefault="00BD5907" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00BD5907" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00BD5907"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Initializing and Probing</w:t></w:r></w:p><w:p w:rsidR="00FD700A" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Like PCI and PCMCIA drivers, USB drivers have </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>probe()/disconnect()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">[2] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>methods to support hotplugging, and</w:t></w:r><w:r w:rsidR="00BD5907"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">a table that contains the identity of devices they support. A USB device is identified by the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_device_id</w:t></w:r><w:r w:rsidR="00BD5907"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure defined in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>include/linux/mod_devicetable.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. You may recall that the</w:t></w:r><w:r w:rsidR="00FD700A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">pci_device_id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure, also defined in the same header file, identifies PCI devices.</w:t></w:r><w:r w:rsidR="00FD700A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00FD700A" w:rsidRDefault="00FD700A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="11"/><w:szCs w:val="11"/></w:rPr><w:t xml:space="preserve">[2] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">is called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">remove() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t>in PCI and PCMCIA parlance.</w:t></w:r></w:p><w:p w:rsidR="00FD700A" w:rsidRPr="00FD700A" w:rsidRDefault="00FD700A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="14"/><w:szCs w:val="14"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_device_id {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u16 idVendor; /* Vendor ID */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u16 idProduct; /* Device ID */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 bDeviceClass; /* Device class */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 bDeviceSubClass; /* Device subclass */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 bDeviceProtocol; /* Device protocol */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00FD700A" w:rsidRPr="00FD700A" w:rsidRDefault="00FD700A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">idVendor </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>idProduct</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, respectively, hold the manufacturer ID and product ID, whereas </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bDeviceClass</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>,</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bDeviceSubClass</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bDeviceProtocol </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>categorize the device based on its functionality. This classification,</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>determined by the USB specification, allows implementation of generic client drivers as discussed in the section</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>"</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Class Drivers</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>" later.</w:t></w:r></w:p><w:p w:rsidR="004274A5" w:rsidRPr="004274A5" w:rsidRDefault="004274A5" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 2 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">implements the telemetry driver's initialization routine, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_tele_init()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which calls on</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_register() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">to register its </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure with the USB core. As shown in the listing, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_driver</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">ties the driver's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device_id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">table together. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is</w:t></w:r><w:r w:rsidR="004274A5"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">similar to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pci_driver</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, except that the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method in the former is named </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">remove() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>in the latter.</w:t></w:r></w:p><w:p w:rsidR="004274A5" w:rsidRPr="004274A5" w:rsidRDefault="004274A5" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 2. Initializing the Driver</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="004274A5" w:rsidRPr="004274A5" w:rsidRDefault="004274A5" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">#define USB_TELE_VENDOR_ID </w:t></w:r><w:r w:rsidR="00C459CF"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>0xABCD /* Manufacturer's Vendor ID */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">#define USB_TELE_PRODUCT_ID </w:t></w:r><w:r w:rsidR="00C459CF"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>0xCDEF /* Device's Product ID */</w:t></w:r></w:p><w:p w:rsidR="00C459CF" w:rsidRPr="00C459CF" w:rsidRDefault="00C459CF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* USB ID Table specifying the devices that this driver supports */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct usb_device_id tele_ids[] = {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{ USB_DEVICE(USB_TELE_VENDOR_ID, USB_TELE_PRODUCT_ID) },</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{ } /* Terminate */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00C459CF" w:rsidRPr="00C459CF" w:rsidRDefault="00C459CF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>MODULE_DEVICE_TABLE(usb, tele_ids);</w:t></w:r></w:p><w:p w:rsidR="00B33DA4" w:rsidRDefault="00B33DA4" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The usb_driver structure for this driver */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct usb_driver tele_driver</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.name = "tele", /* Unique name */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.probe = tele_probe, /* See Listing 3 */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.disconnect = tele_disconnect, /* See Listing 3 */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.id_table = tele_ids, /* See above */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00B33DA4" w:rsidRDefault="00B33DA4" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Module Initialization */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int __init</w:t></w:r><w:r w:rsidR="0094456E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_tele_init(void)</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Register with the USB core */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>result = usb_register(&amp;tele_driver);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return 0;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00B55C97" w:rsidRPr="00B55C97" w:rsidRDefault="00B55C97" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Module Exit */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static void __exit</w:t></w:r><w:r w:rsidR="0094456E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_tele_exit(void)</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Unregister from the USB core */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_deregister(&amp;tele_driver);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="005915D9" w:rsidRPr="005915D9" w:rsidRDefault="005915D9" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>module_init(usb_tele_init);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>module_exit(usb_tele_exit);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB_DEVICE() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">macro creates a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device_id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>from the vendor and product IDs supplied to it. This is</w:t></w:r><w:r w:rsidR="00425E02"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">analogous to the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">PCI_DEVICE() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">macro. The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">MODULE_DEVICE_TABLE() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>macro</w:t></w:r></w:p><w:p w:rsidR="002C5E48" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">marks </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_ids </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>in the module image so that the module can be loaded on demand if the card is hotplugged.</w:t></w:r><w:r w:rsidR="00425E02"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This is again similar to what we discussed for PCMCIA and PCI devices in the previous two chapters.</w:t></w:r><w:r w:rsidR="00425E02"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">When the USB core detects a device with properties matching the ones declared in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device_id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>table</w:t></w:r><w:r w:rsidR="002C5E48"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">belonging to a client driver, it invokes the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>method registered by that driver. When the device is</w:t></w:r><w:r w:rsidR="002C5E48"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">unplugged or if the module is unloaded, the USB core invokes the driver's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>method.</w:t></w:r><w:r w:rsidR="002C5E48"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 3 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">implements the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>methods of the telemetry driver. It starts by defining a</w:t></w:r><w:r w:rsidR="002C5E48"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">device-specific structure, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_device_t</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which contains the following fields:</w:t></w:r></w:p><w:p w:rsidR="002C5E48" w:rsidRPr="002C5E48" w:rsidRDefault="002C5E48" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="002228DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A pointer to the associated </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_device</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="002228DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A pointer to the </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_interface</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. Revisit </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 1 </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to see this structure in use.</w:t></w:r></w:p><w:p w:rsidR="00FF559F" w:rsidRDefault="002228DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A control URB (</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ctrl_urb</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">) to communicate with the telemetry configuration register, </w:t></w:r></w:p><w:p w:rsidR="002228DE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">ctrl_req </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to</w:t></w:r><w:r w:rsidR="002228DE"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>formulate programming requests to this register. These fields are described in the next section "</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Accessing</w:t></w:r><w:r w:rsidR="002228DE"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Registers</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>."</w:t></w:r><w:r w:rsidR="002228DE"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="002228DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The card has a bulk </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>endpoint through which you can glean the collected telemetry information.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Associated with this endpoint are three fields: </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_addr</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which holds the endpoint address;</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_buf</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, which stores received data; and </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_len</w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, which contains the size of the receive data</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>buffer.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="002228DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The card has a bulk </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">endpoint to facilitate downstream data transfer. </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_device_t </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>has a field called</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bulk_out_addr </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">to store the address of this endpoint. There are fewer data structures in the </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OUT </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>direction</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>because in this simple case we use a synchronous URB submission interface that hides several</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00B93DDE"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>implementation details.</w:t></w:r></w:p><w:p w:rsidR="000E2EC0" w:rsidRPr="000E2EC0" w:rsidRDefault="000E2EC0" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Khubd invokes the card's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_probe()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, soon after enumeration. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>performs</w:t></w:r><w:r w:rsidR="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>three tasks:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00FF559F" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="3"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Allocates memory for the device-specific structure, </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_device_t</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00FF559F" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="3"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Initializes the following fields in </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_device_t </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">related to the device's bulk endpoints: </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_buf</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>,</w:t></w:r><w:r w:rsidR="00FF559F" w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_len</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_in_addr</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, and </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bulk_out_addr</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. For this, it uses the </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>data collected by the hub driver</w:t></w:r><w:r w:rsidR="00FF559F" w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>during enumeration. This data is available in descriptor structures discussed in the section "</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Descriptor</w:t></w:r><w:r w:rsidR="00FF559F" w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Structures</w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>."</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00FF559F" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="3"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Exports the character device </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev/tele </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">to user space. Applications operate over </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev/tele </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to exchange data</w:t></w:r><w:r w:rsidR="00FF559F" w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">with the telemetry card. </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_probe() </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">invokes </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_register_dev() </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and supplies it the </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>file_operations</w:t></w:r><w:r w:rsidR="00FF559F" w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">that form the underlying pillars of the </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev/tele </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">interface via the </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_class_driver </w:t></w:r><w:r w:rsidRPr="00FF559F"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure.</w:t></w:r></w:p><w:p w:rsidR="00FF559F" w:rsidRPr="00FF559F" w:rsidRDefault="00FF559F" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The address of the device-specific structure allocated in Step 1 has to be saved so that other methods can</w:t></w:r><w:r w:rsidR="002C59B1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>access it. To achieve this, the telemetry driver uses a threefold strategy depending on the function arguments</w:t></w:r><w:r w:rsidR="00DB25D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">available to various driver routines. To save this structure pointer between the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>invocation</w:t></w:r><w:r w:rsidR="00DB25D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">threads, the driver uses the device's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">driver_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">field via the pair of functions, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_set_intfdata() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and</w:t></w:r><w:r w:rsidR="00DB25D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_get_intfdata()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. To save the address of the structure pointer between the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>thread and other entry</w:t></w:r><w:r w:rsidR="00DB25D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">points, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">stores it in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/dev/tele</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">'s </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">file-&gt;private_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>field. This is because the kernel supplies these</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">char entry points with </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/dev/tele</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">'s </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">inode </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">pointer as argument rather than the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_interface </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>pointer. To glean</w:t></w:r><w:r w:rsidR="0042319F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidR="0042319F" w:rsidRPr="0042319F"><w:rPr><w:rFonts w:ascii="Batang" w:eastAsia="Batang" w:hAnsi="Batang" w:cs="Batang" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>수집하다</w:t></w:r><w:r w:rsidR="0042319F"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>)</w:t></w:r><w:r w:rsidR="00DB25D9"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the address of the device-specific structure from URB callback functions, the associated submission threads use</w:t></w:r><w:r w:rsidR="00D00E10"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the URB's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">context </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">field as the storage area. Look at </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listings 3</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>4</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, and</w:t></w:r><w:r w:rsidR="00D00E10"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">5 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to see these mechanisms in</w:t></w:r><w:r w:rsidR="00D00E10"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>action.</w:t></w:r></w:p><w:p w:rsidR="00D00E10" w:rsidRPr="00D00E10" w:rsidRDefault="00D00E10" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">All USB character devices answer to major number </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>180</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. If you enable </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">CONFIG_USB_DYNAMIC_MINORS </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>during</w:t></w:r><w:r w:rsidR="009F5D3A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>kernel configuration, the USB core dynamically selects a minor number from the available pool. This behavior is</w:t></w:r><w:r w:rsidR="009F5D3A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">similar to registering misc drivers after specifying </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">MISC_DYNAMIC_MINOR </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">miscdevice </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure. If you choose not to enable</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>CONFIG_USB_DYNAMIC_MINORS</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, the USB subsystem selects an available minor number starting at the minor base</w:t></w:r><w:r w:rsidR="009F5D3A"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">set in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_class_driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure.</w:t></w:r></w:p><w:p w:rsidR="009F5D3A" w:rsidRPr="009F5D3A" w:rsidRDefault="009F5D3A" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 3. Probing and Disconnecting</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Device-specific structure */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>typedef struct {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_device *usbdev; /* Device representation */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_interface *interface; /* Interface representation*/</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct urb *ctrl_urb; /* Control URB for</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>register access */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_ctrlrequest ctrl_req; /* Control request</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>as per the spec */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>unsigned char *bulk_in_buf; /* Receive data buffer */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>size_t bulk_in_len; /* Receive buffer size */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>__u8 bulk_in_addr; /* IN endpoint address */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>__u8 bulk_out_addr; /* OUT endpoint address */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>/* ... */ /* Locks, waitqueues,</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>statistics.. */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>} tele_device_t;</w:t></w:r></w:p><w:p w:rsidR="00DD533D" w:rsidRPr="00DD533D" w:rsidRDefault="00DD533D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#define TELE_MINOR_BASE 0xAB /* Assigned by the Linux-USB</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2880"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>subsystem maintainer */</w:t></w:r></w:p><w:p w:rsidR="00DD533D" w:rsidRPr="00DD533D" w:rsidRDefault="00DD533D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2880"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="000218FB" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Conventional char driver entry points.*/</w:t></w:r></w:p><w:p w:rsidR="00DD533D" w:rsidRPr="00DD533D" w:rsidRDefault="00DD533D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct file_operations tele_fops =</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.owner = THIS_MODULE, /* Owner */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.read = tele_read, /* Read method */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.write = tele_write, /* Write method */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.ioctl = tele_ioctl, /* Ioctl method */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.open = tele_open, /* Open method */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.release = tele_release, /* Close method */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00EA2107" w:rsidRPr="00EA2107" w:rsidRDefault="00EA2107" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct usb_class_driver tele_class = {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.name = "tele",</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">.fops = &amp;tele_fops, /* Connect with </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">/dev/tele </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>*/</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.minor_base = TELE_MINOR_BASE, /* Minor number start */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00B57974" w:rsidRPr="00B57974" w:rsidRDefault="00B57974" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The probe() method is invoked by khubd after device</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">enumeration. The first argument, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>interface</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>, contains information</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">gleaned during the enumeration process. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>is the entry in the</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">driver's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">usb_device_id table </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>that matches the values read from</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>the telemetry card. tele_probe() is based on skel_probe()</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">defined in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">drivers/usb/usb-skeleton.c </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>*/</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int</w:t></w:r><w:r w:rsidR="00B57974"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_probe(struct usb_interface *interface,</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>const struct usb_device_id *id)</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_host_interface *iface_desc;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_endpoint_descriptor *endpoint;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>int retval = -ENOMEM;</w:t></w:r></w:p><w:p w:rsidR="007B0BEC" w:rsidRPr="007B0BEC" w:rsidRDefault="007B0BEC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Allocate the device-specific structure */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = kzalloc(sizeof(tele_device_t), GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="007B0BEC" w:rsidRPr="007B0BEC" w:rsidRDefault="007B0BEC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Fill the usb_device and usb_interface */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;usbdev =</w:t></w:r><w:r w:rsidR="007B0BEC"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_get_dev(interface_to_usbdev(interface));</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;interface = interface;</w:t></w:r></w:p><w:p w:rsidR="007B0BEC" w:rsidRPr="007B0BEC" w:rsidRDefault="007B0BEC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Set up endpoint information from the data gleaned</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>during device enumeration */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>iface_desc = interface-&gt;cur_altsetting;</w:t></w:r></w:p><w:p w:rsidR="007B0BEC" w:rsidRPr="007B0BEC" w:rsidRDefault="007B0BEC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>for (int i = 0; i &lt; iface_desc-&gt;desc.bNumEndpoints; ++i) {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>endpoint = &amp;iface_desc-&gt;endpoint[i].desc;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!tele_device-&gt;bulk_in_addr &amp;&amp;</w:t></w:r><w:r w:rsidR="000105D0"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_endpoint_is_bulk_in(endpoint)) {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Bulk IN endpoint */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;bulk_in_len =</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>le16_to_cpu(endpoint-&gt;wMaxPacketSize);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;bulk_in_addr = endpoint-&gt;bEndpointAddress;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;bulk_in_buf =</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>kmalloc(tele_device-&gt;bulk_in_len, GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="000105D0" w:rsidRPr="000105D0" w:rsidRDefault="000105D0" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!tele_device-&gt;bulk_out_addr &amp;&amp;</w:t></w:r><w:r w:rsidR="000105D0"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_endpoint_is_bulk_out(endpoint)) {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Bulk OUT endpoint */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="2160"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;bulk_out_addr = endpoint-&gt;bEndpointAddress;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="007B0BEC" w:rsidRPr="007B0BEC" w:rsidRDefault="007B0BEC" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!(tele_device-&gt;bulk_in_addr &amp;&amp; tele_device-&gt;bulk_out_addr)) {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return retval;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00627F3B" w:rsidRPr="00627F3B" w:rsidRDefault="00627F3B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Attach the device-specific structure to this interface.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>We will retrieve it from tele_open() */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_set_intfdata(interface, tele_device);</w:t></w:r></w:p><w:p w:rsidR="002F2BCB" w:rsidRPr="002F2BCB" w:rsidRDefault="002F2BCB" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Register the device */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>retval = usb_register_dev(interface, &amp;tele_class);</w:t></w:r></w:p><w:p w:rsidR="002F2BCB" w:rsidRPr="002F2BCB" w:rsidRDefault="002F2BCB" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (retval) {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_set_intfdata(interface, NULL);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return retval;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="002F2BCB" w:rsidRPr="002F2BCB" w:rsidRDefault="002F2BCB" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>printk("Telemetry device now attached to /dev/tele\n");</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return 0;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00627F3B" w:rsidRPr="00627F3B" w:rsidRDefault="00627F3B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Disconnect method. Called when the device is unplugged or when the module is</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>unloaded */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static void</w:t></w:r><w:r w:rsidR="00BF78DE"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_disconnect(struct usb_interface *interface)</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Reverse of usb_set_intfdata() invoked from tele_probe() */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = usb_get_intfdata(interface);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Zero out interface data */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_set_intfdata(interface, NULL);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">/* Release </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">/dev/tele </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>*/</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>usb_deregister_dev(interface, &amp;tele_class);</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* NULL the interface. In the real world, protect this</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>operation using locks */</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;interface = NULL;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="00BF78DE" w:rsidRPr="00BF78DE" w:rsidRDefault="00BF78DE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="00DD5C69" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00DD5C69"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Accessing Registers</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method initializes the on-card telemetry configuration register when an application opens </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/dev/tele.</w:t></w:r><w:r w:rsidR="003375B3"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">To set the contents of this register, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">submits a control URB attached to the default endpoint </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="003375B3"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>When you submit a control URB, you have to supply an associated control request. The structure that sends a</w:t></w:r><w:r w:rsidR="003375B3"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">control request to a USB device has to conform to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Chapter 9 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>of the USB specification and is defined as follows in</w:t></w:r><w:r w:rsidR="003375B3"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>include/linux/usb/ch9.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="003375B3" w:rsidRPr="003375B3" w:rsidRDefault="003375B3" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>struct usb_ctrlrequest {</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 bRequestType;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__u8 bRequest;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__le16 wValue;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__le16 wIndex;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>__le16 wLength;</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>} __attribute__ ((packed));</w:t></w:r></w:p><w:p w:rsidR="003375B3" w:rsidRPr="003375B3" w:rsidRDefault="003375B3" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Let's take a look at the components that make up a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_ctrlrequest</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bRequest </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>field identifies the control</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">request. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bRequestType </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>qualifies the request by encoding the data transfer direction, the request category, and</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">whether the recipient is a device, interface, endpoint, or something else. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bRequest </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>can either belong to a set of</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">standard values or be vendor-defined. In our example, the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">bRequest </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for writing to the telemetry configuration</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>register is a vendor-</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>d</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">efined one. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">wValue </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">holds the data to be written to the register, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">wIndex </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the desired</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">offset into the register space, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">wLength </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the number of bytes to be transferred.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 4 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">implements </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_open()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. Its main task is to program the telemetry configuration register with</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">appropriate values. Before browsing the listing, revisit the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_device_t </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure defined in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 3</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">focusing on two fields: </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">ctrl_urb </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ctrl_req</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. The former is a control URB for communicating with the</w:t></w:r><w:r w:rsidR="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">configuration register, whereas the latter is the associated </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_ctrlrequest</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">To program the telemetry configuration register, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>does the following:</w:t></w:r></w:p><w:p w:rsidR="006D585D" w:rsidRPr="006D585D" w:rsidRDefault="006D585D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Allocates a control URB to prepare for the register write.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">Creates a </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_ctrlrequest </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and populates it with the request identifier, request type, register offset, and</w:t></w:r><w:r w:rsidR="006D585D" w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the value to be programmed.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Creates a control pipe attached to endpoint </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">0 </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>of the telemetry card to carry the control URB.</w:t></w:r></w:p><w:p w:rsidR="006D585D" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Because </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_open() </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>submits the URB asynchronously, it needs to wait for the associated callback</w:t></w:r><w:r w:rsidR="006D585D" w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">function to finish before returning to its caller. To this end, </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_open() </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>calls on the kernel's completion</w:t></w:r><w:r w:rsidR="006D585D" w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">API for assistance using </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>init_completion()</w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. Step 7 calls the matching </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">wait_for_completion() </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that waits</w:t></w:r><w:r w:rsidR="006D585D" w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">until the callback function invokes </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>complete()</w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Initializes fields in the control URB using </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_fill_control_urb()</w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. This includes the </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_ctrlrequest</w:t></w:r><w:r w:rsidR="006D585D" w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>populated in Step 2.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Submits the URB to the USB core using </w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_submit_urb()</w:t></w:r><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Waits until the callback function signals that the register programming is complete.</w:t></w:r></w:p><w:p w:rsidR="00B93DDE" w:rsidRPr="006D585D" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="4"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="006D585D"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Returns the status.</w:t></w:r></w:p><w:p w:rsidR="006D585D" w:rsidRPr="006D585D" w:rsidRDefault="006D585D" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00B93DDE" w:rsidRDefault="00B93DDE" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 4. Initialize the Telemetry Configuration Register</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Offset of the Telemetry configuration register</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>within the on-card register space */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#define TELEMETRY_CONFIG_REG_OFFSET 0x0A</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Value to program in the configuration register */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#define TELEMETRY_CONFIG_REG_VALUE 0xBC</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The vendor-defined bRequest for programming the</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>configuration register */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#define TELEMETRY_REQUEST_WRITE 0x0D</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The vendor-defined bRequestType */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#define TELEMETRY_REQUEST_WRITE_REGISTER 0x0E</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Open method */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int</w:t></w:r><w:r w:rsidR="00984616"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_open(struct inode *inode, struct file *file)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct completion tele_config_done;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>void *tele_ctrl_context;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>char *tmp;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>__le16 tele_config_index = TELEMETRY_CONFIG_REG_OFFSET;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>unsigned int tele_ctrl_pipe;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_interface *interface;</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Obtain the pointer to the device-specific structure.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>We saved it using usb_set_intfdata() in tele_probe() */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>interface = usb_find_interface(&amp;tele_driver, iminor(inode));</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = usb_get_intfdata(interface);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Allocate a URB for the control transfer */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_urb = usb_alloc_urb(0, GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!tele_device-&gt;ctrl_urb) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return -EIO;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Populate the Control Request */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_req.bRequestType = TELEMETRY_REQUEST_WRITE;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_req.bRequest =</w:t></w:r><w:r w:rsidR="00984616"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>TELEMETRY_REQUEST_WRITE_REGISTER;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_req.wValue =</w:t></w:r><w:r w:rsidR="00984616"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>cpu_to_le16(TELEMETRY_CONFIG_REG_VALUE);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_req.wIndex =</w:t></w:r><w:r w:rsidR="00984616"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>cpu_to_le16p(&amp;tele_config_index);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_req.wLength = cpu_to_le16(1);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;ctrl_urb-&gt;transfer_buffer_length = 1;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tmp = kmalloc(1, GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>*tmp = TELEMETRY_CONFIG_REG_VALUE;</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Create a control pipe attached to endpoint 0 */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_ctrl_pipe = usb_sndctrlpipe(tele_device-&gt;usbdev, 0);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Initialize the completion mechanism */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>init_completion(&amp;tele_config_done);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Set URB context. The context is part of the URB that is passed</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>to the callback function as an argument. In this case, the</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>context is the completion structure, tele_config_done */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_ctrl_context = (void *)&amp;tele_config_done;</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Initialize the fields in the control URB */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_fill_control_urb(tele_device-&gt;ctrl_urb, tele_device-&gt;usbdev,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_ctrl_pipe,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>(char *) &amp;tele_device-&gt;ctrl_req,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tmp, 1, tele_ctrl_callback,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_ctrl_context);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Submit the URB */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_submit_urb(tele_device-&gt;ctrl_urb, GFP_ATOMIC);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Wait until the callback returns indicating that the telemetry</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>configuration register has been successfully initialized */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>wait_for_completion(&amp;tele_config_done);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Release our reference to the URB */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_free_urb(urb);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>kfree(tmp);</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Save the device-specific object to the file's private_data</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>so that you can directly retrieve it from other entry points</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>such as tele_read() and tele_write() */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>file-&gt;private_data = tele_device;</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Return the URB transfer status */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return(tele_device-&gt;ctrl_urb-&gt;status);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00984616" w:rsidRPr="00984616" w:rsidRDefault="00984616" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Callback function */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static void</w:t></w:r><w:r w:rsidR="00984616"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_ctrl_callback(struct urb *urb)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>complete((struct completion *)urb-&gt;context);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00062546" w:rsidRPr="00062546" w:rsidRDefault="00062546" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">You can render </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_open() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">simpler using </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_control_msg()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, a blocking version of </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_submit_urb() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>internally hides synchronization and callback details for control URBs. We preferred the asynchronous approach</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for learning purposes.</w:t></w:r></w:p><w:p w:rsidR="00062546" w:rsidRPr="00062546" w:rsidRDefault="00062546" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00062546" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Data Transfer</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 5 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">implements the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">read() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">write() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>entry points of the telemetry driver. These methods perform</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the real work when an application reads or writes to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev/tele. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">tele_read() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>performs synchronous URB</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">submission because the calling process wants to block until telemetry data is available. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_write()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, however,</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>uses asynchronous submission and returns to the calling thread without waiting for a confirmation that the data</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>accepted by the driver has been successfully transferred to the device.</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Because asynchronous transfers go hand in hand with a callback routine, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 5 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>implements</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_write_callback()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. This routine examines </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">urb-&gt;status </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to decipher the submission status. It also frees</w:t></w:r><w:r w:rsidR="00062546"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the transfer buffer allocated by </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>tele_write()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00062546" w:rsidRPr="00062546" w:rsidRDefault="00062546" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 5. Data Exchange with the Telemetry Card</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="00062546" w:rsidRPr="00062546" w:rsidRDefault="00062546" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Read entry point */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static ssize_t</w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_read(struct file *file, char *buffer,</w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>size_t count, loff_t *ppos)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>int retval, bytes_read;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Get the address of tele_device */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = (tele_device_t *)file-&gt;private_data;</w:t></w:r></w:p><w:p w:rsidR="00966C59" w:rsidRPr="00966C59" w:rsidRDefault="00966C59" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Synchronous read */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>retval = usb_bulk_msg(tele_device-&gt;usbdev, /* usb_device */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_rcvbulkpipe(tele_device-&gt;usbdev,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device-&gt;bulk_in_addr), /* Pipe */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>tele_device-&gt;bulk_in_buf, /* Read buffer */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>min(tele_device-&gt;bulk_in_len, count), /* Bytes to read */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>&amp;bytes_read, /* Bytes read */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>5000); /* Timeout in 5 sec */</w:t></w:r></w:p><w:p w:rsidR="00966C59" w:rsidRPr="00966C59" w:rsidRDefault="00966C59" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Copy telemetry data to user space */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!retval) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (copy_to_user(buffer, tele_device-&gt;bulk_in_buf,</w:t></w:r><w:r w:rsidR="00966C59"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>bytes_read)) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return -EFAULT;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>} else {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return bytes_read;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00966C59" w:rsidRPr="00966C59" w:rsidRDefault="00966C59" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return retval;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="008A2E2F" w:rsidRPr="008A2E2F" w:rsidRDefault="008A2E2F" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Write entry point */</w:t></w:r></w:p><w:p w:rsidR="00163958" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static ssize_t</w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_write(struct file *file, const char *buffer,</w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">size_t write_count, loff_t </w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>*ppos)</w:t></w:r><w:r w:rsidR="008A2E2F"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>char *tele_buf = NULL;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct urb *urb = NULL;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Get the address of tele_device */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = (tele_device_t *)file-&gt;private_data;</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Allocate a bulk URB */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>urb = usb_alloc_urb(0, GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (!urb) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return -ENOMEM;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="008A2E2F" w:rsidRPr="008A2E2F" w:rsidRDefault="008A2E2F" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Allocate a DMA-consistent transfer buffer and copy in</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>data from user space. On return, tele_buf contains</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>the buffer's CPU address, while urb-&gt;transfer_dma</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>contains the DMA address */</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_buf = usb_buffer_alloc(tele_dev-&gt;usbdev, write_count,</w:t></w:r><w:r w:rsidR="001D559B"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>GFP_KERNEL, &amp;urb-&gt;transfer_dma);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>if (copy_from_user(tele_buf, buffer, write_count)) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_buffer_free(tele_device-&gt;usbdev, write_count,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_buf, urb-&gt;transfer_dma);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_free_urb(urb);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1440"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return -EFAULT</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Populate bulk URB fields */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_fill_bulk_urb(urb, tele_device-&gt;usbdev,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_sndbulkpipe(tele_device-&gt;usbdev,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>tele_device-&gt;bulk_out_addr),</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_buf, write_count, tele_write_callback,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device);</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720" w:firstLine="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* urb-&gt;transfer_dma is valid, so preferably utilize</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>that for data transfer */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>urb-&gt;transfer_flags |= URB_NO_TRANSFER_DMA_MAP;</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Submit URB asynchronously */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_submit_urb(urb, GFP_KERNEL);</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Release URB reference */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_free_urb(urb);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>return(write_count);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="001D559B" w:rsidRPr="001D559B" w:rsidRDefault="001D559B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Write callback */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static void</w:t></w:r><w:r w:rsidR="001D559B"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_write_callback(struct urb *urb){</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device_t *tele_device;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Get the address of tele_device */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>tele_device = (tele_device_t *)urb-&gt;context;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* urb-&gt;status contains the submission status. It's 0 if</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>successful. Resubmit the URB in case of errors other than</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>-ENOENT, -ECONNRESET, and -ESHUTDOWN */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Free the transfer buffer. usb_buffer_free() is the</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>release-counterpart of usb_buffer_alloc() called</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>from tele_write() */</w:t></w:r></w:p><w:p w:rsidR="00951AEA" w:rsidRPr="00951AEA" w:rsidRDefault="00951AEA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>usb_buffer_free(urb-&gt;dev, urb-&gt;transfer_buffer_length,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>urb-&gt;transfer_buffer, urb-&gt;transfer_dma);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00951AEA" w:rsidRPr="00951AEA" w:rsidRDefault="00951AEA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="0050576A" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr></w:pPr><w:r w:rsidRPr="0050576A"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="28"/><w:szCs w:val="28"/></w:rPr><w:t>Class Drivers</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The USB specification introduces the concept of device classes and describes the functionality of each class</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>driver. Examples of standard device classes include mass storage, networking, hubs, serial converters, audio,</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">video, imaging, modems, printers, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">human interface devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(HIDs). Class drivers are generic and let you</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>plug and play a wide array of cards without the need for developing and installing drivers for every single</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device. The Linux-USB subsystem includes support for major class drivers.</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Each USB device has a class and a subclass code. The mass storage class (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0x08</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), for example, supports</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>subclasses such as compact disc (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0x02</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), tape (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0x03</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), and solid-state storage (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>0x06</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>). As you saw previously,</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device drivers populate the</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_device_id </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure with the classes and subclasses they support. You can</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">glean a device's class and subclass information by looking at the "I:" lines in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/proc/bus/usb/devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>output.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Let's take a look at some important class drivers.</w:t></w:r></w:p><w:p w:rsidR="00D52B80" w:rsidRDefault="00D52B80" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00D52B80" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Mass Storage</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>In USB parlance, mass storage refers to USB hard disks, pen drives, CD-ROMs, floppy drives, and similar</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">storage devices. USB mass storage devices adhere to the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Small Computer System Interface </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(SCSI) protocol to</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>communicate with host systems. Block access to USB storage devices is hence routed through the kernel's SCSI</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">subsystem. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure 4 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>provides you an overview of the interaction between USB storage and SCSI subsystems.</w:t></w:r><w:r w:rsidR="00D52B80"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>As shown in the figure, the SCSI subsystem is architected into three layers:</w:t></w:r></w:p><w:p w:rsidR="00D52B80" w:rsidRPr="00D52B80" w:rsidRDefault="00D52B80" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">1. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Top-level drivers for devices such as disks (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sd.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>) and CD-ROMs (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sr.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">2. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A middle-level layer that scans the bus, configures devices, and glues top-level drivers to low-level drivers</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">3. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Low-level SCSI adapter drivers</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="371F7742" wp14:editId="4D2EEABB"><wp:extent cx="4798949" cy="5613621"/><wp:effectExtent l="0" t="0" r="1905" b="6350"/><wp:docPr id="7" name="Picture 7" descr="C:\Users\Administrator\Documents\5.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 7" descr="C:\Users\Administrator\Documents\5.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId20"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="4798383" cy="5612958"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="000E2EC0" w:rsidRDefault="000E2EC0" w:rsidP="000E2EC0"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 4. USB mass storage and SCSI.</w:t></w:r></w:p><w:p w:rsidR="000E2EC0" w:rsidRDefault="000E2EC0" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The mass storage driver registers itself as a virtual SCSI adapter. The virtual adapter communicates upstream</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>via SCSI commands and downstream using URBs. A USB disk appears to higher layers as a SCSI device</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>attached to this virtual adapter.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>To better understand the interactions between the USB and SCSI layers, let's implement a modification to the</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB mass storage driver. The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usbfs </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">node </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/proc/bus/usb/devices</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, contains the properties and connection details</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">of all USB devices attached to the system. The "T:" line in the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/proc/bus/usb/devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>output, for example,</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contains the bus number, the device's depth from the root hub, operational speed, and so on. The "P:" line</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contains the vendor ID, product ID, and revision number of the device. All the information available in</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/proc/bus/usb/devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is managed by the USB subsystem, but there is one piece missing that is under the</w:t></w:r><w:r w:rsidR="00C22FD7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">jurisdiction of the SCSI subsystem. The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>node name associated with the USB storage device (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sd[a-z][1-9]</w:t></w:r><w:r w:rsidR="003E11F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">) </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">for disks and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">sr[0-9] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">for CD-ROMs) is not available in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/proc/bus/usb/devices. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>To overcome this limitation, let's</w:t></w:r><w:r w:rsidR="003E11F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">add an "N:" line that displays the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">node name associated with the device. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 6 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>shows the necessary</w:t></w:r><w:r w:rsidR="003E11F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>code changes in the form of a source patch to the 2.6.23.1 kernel tree.</w:t></w:r></w:p><w:p w:rsidR="003E11F1" w:rsidRPr="003E11F1" w:rsidRDefault="003E11F1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 6. Adding a Disk's </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Name to usbfs</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="003E11F1" w:rsidRPr="003E11F1" w:rsidRDefault="003E11F1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>include/scsi/scsi_host.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct Scsi_Host {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>void *shost_data;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">+ char snam[8]; /* </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>node name for this disk */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00287923" w:rsidRPr="00287923" w:rsidRDefault="00287923" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>drivers/usb/storage/usb.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct us_data {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ char magic[4];</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00903473" w:rsidRPr="00903473" w:rsidRDefault="00903473" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>include/linux/usb.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_interface {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ void *private_data;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00903473" w:rsidRPr="00903473" w:rsidRDefault="00903473" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>drivers/usb/storage/usb.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int storage_probe(struct usb_interface *intf,</w:t></w:r><w:r w:rsidR="00903473"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>const struct usb_device_id *id)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>memset(us, 0, sizeof(struct us_data));</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>+ intf-&gt;private_data = (void *) us;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ strncpy(us-&gt;magic, "disk", 4);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>mutex_init(&amp;(us-&gt;dev_mutex));</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00903473" w:rsidRPr="00903473" w:rsidRDefault="00903473" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>drivers/scsi/sd.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int sd_probe(struct device *dev)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>add_disk(gd);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ memset(sdp-&gt;host-&gt;snam,0, sizeof(sdp-&gt;host-&gt;snam));</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ strncpy(sdp-&gt;host-&gt;snam, gd-&gt;disk_name, 3);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>sdev_printk(KERN_NOTICE, sdp, "Attached scsi %sdisk %s\n",</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>sdp-&gt;removable ? "removable " : "", gd-&gt;disk_name);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00903473" w:rsidRPr="00903473" w:rsidRDefault="00903473" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>drivers/scsi/sr.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int sr_probe(struct device *dev)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>add_disk(disk);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ memset(sdev-&gt;host-&gt;snam,0, sizeof(sdev-&gt;host-&gt;snam));</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ strncpy(sdev-&gt;host-&gt;snam, cd-&gt;cdi.name, 3);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>sdev_printk(KERN_DEBUG, sdev, "Attached scsi CD-ROM %s\n",</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>cd-&gt;cdi.name);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00903473" w:rsidRPr="00903473" w:rsidRDefault="00903473" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:i/><w:iCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>drivers/usb/core/devices.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>#include &lt;asm/uaccess.h&gt;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ #include &lt;scsi/scsi_host.h&gt;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ #include "../storage/usb.h"</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static ssize_t usb_device_dump(char __user **buffer, size_t *nbytes,</w:t></w:r></w:p><w:p w:rsidR="00121100" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">loff_t *skip_bytes, </w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>loff_t *file_offset,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_device *usbdev,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>struct usb_bus *bus, int level,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>int index, int count)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>ssize_t total_written = 0;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ struct us_data *us_d;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ struct Scsi_Host *s_h;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>data_end = pages_start + sprintf(pages_start, format_topo,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>bus-&gt;busnum, level,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>parent_devnum,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>index, count, usbdev-&gt;devnum,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>speed, usbdev-&gt;maxchild);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ /* Assume this device supports only one interface */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ us_d = (struct us_data *)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ (usbdev-&gt;actconfig-&gt;interface[0]-&gt;private_data);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ if ((us_d) &amp;&amp; (!strncmp(us_d-&gt;magic, "disk", 4))) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ s_h = (struct Scsi_Host *) container_of((void *)us_d</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ struct Scsi_Host</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ hostdata);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ data_end += sprintf(data_end, "N: ");</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ data_end += sprintf(data_end, "Device=%.100s",s_h-&gt;snam);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ if (!strncmp(s_h-&gt;snam, "sr", 2)) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ data_end += sprintf(data_end, " (CDROM)\n");</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ } else if (!strncmp(s_h-&gt;snam, "sd", 2)) {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ data_end += sprintf(data_end, " (Disk)\n");</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ }</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>+ }</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00121100" w:rsidRPr="00121100" w:rsidRDefault="00121100" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">To understand </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 6</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, let's first trace the code flow, continuing from where we left off in the section</w:t></w:r><w:r w:rsidR="00121100"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>"</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Enumeration</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>." In that section, we inserted a USB pen drive and followed the execution train until the invocation</w:t></w:r><w:r w:rsidR="00121100"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">of </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>storage_probe()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>method of the mass storage driver. Moving further:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">1. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">storage_probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">registers a virtual SCSI adapter by calling </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>scsi_add_host()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>supplying a private data</w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">us_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">as argument. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">scsi_add_host() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">returns a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Scsi_Host </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>structure for this virtual</w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">adapter, with space at the end for </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>us_data</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">2. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">It starts a kernel thread called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb-storage </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to handle all SCSI commands queued to the virtual adapter.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">3. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">It schedules a kernel thread called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb-stor-scan </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that requests the SCSI middle-level layer to scan the bus</w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for attached devices.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">4. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The device scan initiated in Step 3 discovers the presence of the inserted pen drive and binds the upperlevel</w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>SCSI disk driver (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sd.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>) to the device. This results in the invocation of the SCSI disk driver's probe</w:t></w:r><w:r w:rsidR="00F214ED"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">method, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>sd_probe()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">5. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">sd </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">driver allocates a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev/sd* </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>node to the disk. From this point on, applications use this interface to</w:t></w:r><w:r w:rsidR="00CD7DBF"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>access the USB disk. The SCSI subsystem queues disk commands to the virtual adapter, which the usbstorage</w:t></w:r><w:r w:rsidR="00CD7DBF"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>kernel thread handles using appropriate URBs.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Now that you know the basics, let's dissect </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 6</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, looking at the data structure additions first. The listing</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">adds a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">snam </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">field to the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Scsi_Host </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure to hold the associated SCSI </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>name that we are interested in. It</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">also adds a private field to the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_interface </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t xml:space="preserve">associate each USB interface with its </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>us_data</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Because </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">us_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is relevant only for storage devices, we need to ensure the validity of the private field of a</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB interface before accessing it as </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>us_data</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. For this, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 6 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">adds a magic string, "disk," to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>us_data</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usbfs </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">modification in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 6 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">(to </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/core/devices.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">) pulls out the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">us_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>associated with each</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">interface via the private data field of its </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_interface</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. It then latches on to the associated </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Scsi_Host </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>using</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">container_of() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">function, because as you saw in Step 1 previously, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_data </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is glued to the end of the</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">corresponding </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Scsi_Host</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. As you further saw in Step 5, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Scsi_Host </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">contains the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>node names that the sd</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and sr drivers populate. Usbfs stitches together an "N:" line using this information.</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The following is the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/proc/bus/usb/devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">output after integrating the changes in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 6 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and attaching a</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>PNY USB pen drive, an Addonics CD-ROM drive, and a Seagate hard disk to a laptop via a USB hub. The "N:"</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">lines announce the identity of the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">node </w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>corresponding to each device:</w:t></w:r></w:p><w:p w:rsidR="00D81E14" w:rsidRPr="00D81E14" w:rsidRDefault="00D81E14" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bash&gt; cat /proc/bus/usb/devices</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>...</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>T: Bus=04 Lev=02 Prnt=02 Port=00 Cnt=01 Dev#= 3 Spd=480 MxCh= 0</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>N: Device=sda(Disk)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>D: Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs= 1</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>P: Vendor=154b ProdID=0002 Rev= 1.00</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Manufacturer=PNY</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Product=USB 2.0 FD</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: SerialNumber=6E5C07005B4F</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C:* #Ifs= 1 Cfg#= 1 Atr=80 MxPwr= 0mA</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>I:* If#= 0 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=usbstorage</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=81(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=02(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms</w:t></w:r></w:p><w:p w:rsidR="00D81E14" w:rsidRPr="00D81E14" w:rsidRDefault="00D81E14" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>T: Bus=04 Lev=02 Prnt=02 Port=01 Cnt=02 Dev#= 5 Spd=480 MxCh= 0</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>N: Device=sr0(CDROM)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>D: Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs= 1</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>P: Vendor=0bf6 ProdID=a002 Rev= 3.00</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Manufacturer=Addonics</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Product=USB to IDE Cable</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: SerialNumber=1301011002A9AFA9</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C:* #Ifs= 1 Cfg#= 2 Atr=c0 MxPwr= 98mA</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>I:* If#= 0 Alt= 0 #EPs= 3 Cls=08(stor.) Sub=06 Prot=50 Driver=usbstorage</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=01(O) Atr=02(Bulk) MxPS= 512 Ivl=125us</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=82(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=83(I) Atr=03(Int.) MxPS= 2 Ivl=32ms</w:t></w:r></w:p><w:p w:rsidR="00D81E14" w:rsidRPr="00D81E14" w:rsidRDefault="00D81E14" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>T: Bus=04 Lev=02 Prnt=02 Port=02 Cnt=03 Dev#= 4 Spd=480 MxCh= 0</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>N: Device=sdb(Disk)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>D: Ver= 2.00 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs= 1</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>P: Vendor=0bc2 ProdID=0501 Rev= 0.01</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Manufacturer=Seagate</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: Product=USB Mass Storage</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>S: SerialNumber=000000062459</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>C:* #Ifs= 1 Cfg#= 1 Atr=c0 MxPwr= 0mA</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>I:* If#= 0 Alt= 0 #EPs= 2 Cls=08(stor.) Sub=06 Prot=50 Driver=usbstorage</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=02(O) Atr=02(Bulk) MxPS= 512 Ivl=0ms</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>E: Ad=88(I) Atr=02(Bulk) MxPS= 512 Ivl=0ms</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>...</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">As you can see, the SCSI subsystem has allotted </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">sda </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">to the pen drive, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">sr0 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">to the CD-ROM, and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">sdb </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to the hard</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disk. User-space applications operate on these nodes to communicate with the respective devices. </w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>w</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ith the arrival of udev, however, you have the option of creating higher-level abstractions to</w:t></w:r><w:r w:rsidR="00D81E14"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">identify each device without relying on the identity of the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">/dev </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>names allocated by the SCSI subsystem.</w:t></w:r></w:p><w:p w:rsidR="00D92C56" w:rsidRPr="00D92C56" w:rsidRDefault="00D92C56" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00D92C56" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00D92C56"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>USB-Serial</w:t></w:r></w:p><w:p w:rsidR="00D92C56" w:rsidRPr="00D92C56" w:rsidRDefault="00D92C56" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="1080"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00BE4ED8" w:rsidRPr="00BE4ED8" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB-to-serial converters bring serial port capabilities to your computer via USB. You can use a USB-to-serial</w:t></w:r><w:r w:rsidR="00BE4ED8"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>converter, for example, to get a serial debug console from an embedded device on a development laptop that</w:t></w:r><w:r w:rsidR="00BE4ED8"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>has no serial ports.</w:t></w:r><w:r w:rsidR="00BE4ED8"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 5</w:t></w:r><w:r w:rsidR="00BE4ED8"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>illustrates how the USB-Serial layer fits into the kernel's serial framework.</w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A USB-serial driver is similar to other USB client drivers except that it avails the services of a USB-Serial core in</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>addition to the USB core. The USB-Serial core provides the following:</w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRPr="006060F1" w:rsidRDefault="00685301" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A tty driver that insulates low-level USB-to-serial converter drivers from higher serial layers such as line</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>disciplines.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Generic </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>routines that individual USB-serial drivers can leverage.</w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Device nodes to access USB-serial ports from user space.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Applications operate on USB-serial ports via</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/dev/ttyUSBX</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, where </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">X </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">is the serial port number. Terminal emulators such as </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">minicom </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>and protocols such</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>as PPP run unchanged over these interfaces.</w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Figure 5. The USB-Serial layer.</w:t></w:r></w:p><w:p w:rsidR="006060F1" w:rsidRPr="00685301" w:rsidRDefault="004B19AA" w:rsidP="00685301"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="3DA04E0B" wp14:editId="49DEC2E1"><wp:extent cx="5943600" cy="5553695"/><wp:effectExtent l="0" t="0" r="0" b="9525"/><wp:docPr id="8" name="Picture 8" descr="C:\Users\Administrator\Documents\6.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 8" descr="C:\Users\Administrator\Documents\6.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId21"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="5553695"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A low-level USB-to-serial converter driver essentially does the following:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="006060F1" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="5"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Registers a </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_serial_driver </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure with the USB-Serial core using </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_serial_register()</w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. The</w:t></w:r><w:r w:rsidR="006060F1" w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">entry points supplied as part of </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_serial_driver </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>form the crux of the driver.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="006060F1" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="5"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Populates a </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_driver </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure and registers it with the USB core using </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_register()</w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. This is similar</w:t></w:r><w:r w:rsidR="006060F1" w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to what the example telemetry driver does, except that a serial converter driver can count on the generic</w:t></w:r><w:r w:rsidR="006060F1" w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">probe() </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">disconnect() </w:t></w:r><w:r w:rsidRPr="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>routines provided by the USB-Serial core.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="006060F1" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Listing 7 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contains snippets from the FTDI driver (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/serial/ftdi_sio.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>) that accomplish these two</w:t></w:r><w:r w:rsidR="006060F1"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>registrations for USB-to-serial converters based on FTDI chipsets.</w:t></w:r></w:p><w:p w:rsidR="006060F1" w:rsidRPr="006060F1" w:rsidRDefault="006060F1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Listing 7. A Snippet from the FTDI Driver</w:t></w:r></w:p><w:p w:rsidR="006060F1" w:rsidRPr="006060F1" w:rsidRDefault="006060F1" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:lastRenderedPageBreak/><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The usb_driver structure */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct usb_driver ftdi_driver = {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.name = "ftdi_sio", /* Name */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.probe = usb_serial_probe, /* Provided by the</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>USB-Serial core */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.disconnect = usb_serial_disconnect,/* Provided by the</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>USB-Serial core */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.id_table = id_table_combined, /* List of supported</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>devices built</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t xml:space="preserve">around the FTDI </w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">       </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>chip */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.no_dynamic_id = 1, /* Supported ids cannot be</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New" w:hint="eastAsia"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>added dynamically */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00AF2C6E" w:rsidRPr="00AF2C6E" w:rsidRDefault="00AF2C6E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* The usb_serial_driver structure */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static struct usb_serial_driver ftdi_sio_device = {</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.num_ports = 1,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.probe = ftdi_sio_probe,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.port_probe = ftdi_sio_port_probe,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.port_remove = ftdi_sio_port_remove,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.open = ftdi_open,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.close = ftdi_close,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.throttle = ftdi_throttle,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.unthrottle = ftdi_unthrottle,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.write = ftdi_write,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.write_room = ftdi_write_room,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.chars_in_buffer = ftdi_chars_in_buffer,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.read_bulk_callback = ftdi_read_bulk_callback,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>.write_bulk_callback = ftdi_write_bulk_callback,</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>};</w:t></w:r></w:p><w:p w:rsidR="00AF2C6E" w:rsidRPr="00AF2C6E" w:rsidRDefault="00AF2C6E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Driver Initialization */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>static int __init ftdi_init(void)</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>{</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Register with the USB-Serial core */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>retval = usb_serial_register(&amp;ftdi_sio_device);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* Register with the USB core */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>retval = usb_register(&amp;ftdi_driver);</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>/* ... */</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/></w:rPr><w:t>}</w:t></w:r></w:p><w:p w:rsidR="00AF2C6E" w:rsidRPr="00AF2C6E" w:rsidRDefault="00AF2C6E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="17"/><w:szCs w:val="17"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="1"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Other Devices</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00AF2C6E" w:rsidRDefault="004B19AA" w:rsidP="00685301"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="2"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00AF2C6E"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Human Interface Devices</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Devices such as keyboards and mice are called </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">human interface devices </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">(HIDs). </w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00AF2C6E" w:rsidRDefault="004B19AA" w:rsidP="00685301"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="2"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00AF2C6E"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>Bluetooth</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>A USB-Bluetooth dongle is a quick way to Bluetooth-enable your computer so that it can communicate with</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Bluetooth-equipped devices such as cell phones, mice, or handhelds. </w:t></w:r></w:p><w:p w:rsidR="00685301" w:rsidRPr="00685301" w:rsidRDefault="00685301" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00AF2C6E" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="00AF2C6E"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Gadget Drivers</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>In a typical usage scenario, an</w:t></w:r><w:r w:rsidR="00AF2C6E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>embedded device connects to a PC host over USB. Embedded computers usually</w:t></w:r><w:r w:rsidR="00562F89"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>belong to the device side of USB, unlike PC systems that function as USB hosts. Because Linux runs on both</w:t></w:r><w:r w:rsidR="00562F89"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>embedded and PC systems, it needs support to run on either end of USB. The USB Gadget project brings USB</w:t></w:r><w:r w:rsidR="00562F89"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">device mode capability to embedded Linux systems. Bus 3 of the embedded Linux device in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Figure 2 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>can, for</w:t></w:r><w:r w:rsidR="00562F89"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">example, use a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">gadget driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to let the device function as a mass storage drive when connected to a host</w:t></w:r><w:r w:rsidR="00562F89"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>computer.</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Before proceeding, let's briefly look at some related terminology. The USB controller at the</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device side is</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">variously called a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device controller</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>peripheral controller</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>client controller</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, or </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>function controller</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. The terms</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">gadget </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">gadget driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">are commonly used rather than the heavily overloaded words </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">device </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">and </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>driver</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>USB gadget support is now part of the mainline kernel and contains the following:</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Drivers for USB device controllers integrated into SoC families such as Intel PXA, Texas Instruments</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">OMAP, and Atmel AT91. These drivers additionally provide a </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">gadget API </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>that gadget drivers can use.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Gadget drivers for device classes such as storage, networking, and serial converters.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>These drivers answer</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>to their class when they receive enumeration requests from host-side software. A storage gadget driver,</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">for example, identifies itself as a class </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">0x08 </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(mass storage class)</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>device and exports a storage partition to</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>the host. You can specify the associated block device node or filename via a module-insertion parameter.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Because the exported region has to appear to the host as a mass storage device, the gadget </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>driver</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>implements the SCSI interactions required by the USB mass storage protocol. Gadget drivers are also</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>available for Ethernet and serial devices.</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>●</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">A skeletal gadget driver, </w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/gadget/zero.c</w:t></w:r><w:r w:rsidR="004B19AA"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, that you may use to test device controller drivers.</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="720"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Gadget drivers use the services of the gadget API provided by device controller drivers. They populate a</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usb_gadget_driver </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">structure and register it with the kernel using </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usb_gadget_register_driver()</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>. Hardware</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>specifics are hidden inside the gadget API implementation offered by individual device controller drivers, so the</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>gadget drivers themselves are hardware independent.</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00933411" w:rsidRDefault="00933411" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00F7227E" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Debugging</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>A USB bus analyzer magnifies the goings-on in the bus and is useful for debugging low-level problems. If you</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">can't get hold of an analyzer, you might be able to make do with the kernel's soft USB tracer, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usbmon. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This tool</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">captures traffic between USB host controllers and devices. To collect a trace, read from the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>debugfs</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">[3] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>file</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/sys/kernel/debug/usbmon/Xt</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, where </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">X </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>is the bus number to which your device is connected.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">For example, consider a USB disk connected to a PC. From the associated "T:" line in </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/proc/bus/usb/devices</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>,</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>you can see that the drive is attached to bus 1:</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">T: </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Bus=01 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Lev=01 Prnt=01 Port=03 Cnt=01 Dev#= 2 Spd=480 MxCh= 0</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Ensure that you have enabled </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">debugfs </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>(</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>CONFIG_DEBUG_FS</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>) and usbmon (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>CONFIG_USB_MON</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>) support in your</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>kernel. This is a snapshot of usbmon output while copying a file from the disk:</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Code View:</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bash&gt; mount -t debugfs none_debugs /sys/kernel/debug/</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>bash&gt; cat /sys/kernel/debug/usbmon/1u</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>...</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5c40 3718782540 S Bi:1:002:1 -115 20480 &lt;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5cc0 3718782567 S Bi:1:002:1 -115 65536 &lt;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5d40 3718782595 S Bi:1:002:1 -115 36864 &lt;</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5c40 3718788189 C Bi:1:002:1 0 20480 = 0f846801 118498f\ 15c60500 01680106</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>5e846801 608498fe 6f280087 68000000</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5cc0 3718800994 C Bi:1:002:1 0 65536 = 118498fe 15c60500\ 01680106 5e846801</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>608498fe 6f280087 68000000 00884800</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ee6a5d40 3718801001 C Bi:1:002:1 0 36864 = 13608498 fe4f4a01\ 00514a01 006f2800</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>87680000 00008848 00000100 b7f00100</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>...</w:t></w:r></w:p><w:p w:rsidR="00F7227E" w:rsidRPr="00F7227E" w:rsidRDefault="00F7227E" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Courier New" w:eastAsia="新細明體" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Each output line starts with the URB address, followed by an event timestamp. An </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">S </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>in the next column</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">indicates URB submission, and a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">C </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>announces a callback. The following field has the format</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>URBType:Bus#:DeviceAddress:Endpoint#</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. In the preceding output, a </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">URBType </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">of </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Bi </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>stands for a bulk URB in</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">IN </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>direction. After this, usbmon dumps the URB status, data length, a data tag (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">= </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">or </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">&lt; </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>in the preceding</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">output), and the data words (if the tag is </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>=</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>). The last three lines in the preceding output are callbacks</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>associated with bulk URBs submitted in earlier lines. You can match the callbacks with the related submissions</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">using the URB addresses. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Documentation/usb/usbmon.txt </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>details usbmon syntax and contains example code to</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>parse the output into human readable form.</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">If you turn on </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Device Drivers USB Support USB Verbose Debug Messages </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>during kernel configuration,</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">the kernel will emit the contents of all </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Courier New" w:hAnsi="Courier New" w:cs="Courier New"/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">dev_dbg() </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>statements present in the USB subsystem.</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>You can glean device and bus specific information from the USB filesystem (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>usbfs</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">) node, </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>/proc/bus/usb/devices</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="00192FC7" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:lastRenderedPageBreak/><w:t>usbfs also lets you implement USB device drivers in</w:t></w:r><w:r w:rsidR="00F7227E"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>user space. Even when the final destination of your USB driver is inside the kernel, starting with a user-space</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>driver can ease debugging and testing.</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The linux-usb-devel mailing list is the forum to discuss questions related to USB device drivers. </w:t></w:r></w:p><w:p w:rsidR="00192FC7" w:rsidRPr="00192FC7" w:rsidRDefault="00192FC7" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRPr="00192FC7" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="2"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>Looking at the Sources</w:t></w:r></w:p><w:p w:rsidR="00192FC7" w:rsidRPr="00192FC7" w:rsidRDefault="00192FC7" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="6D7288"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="360"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The USB core layer lives in </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/core/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This directory also contains URB manipulation routines and the</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">usbfs implementation. The hub driver and khubd are part of </w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/core/hub.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/host/</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">directory contains host controller device drivers. USB-related header definitions reside in </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>include/linux/usb*.h</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The usbmon tracer is in </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/mon/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Look inside </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Documentation/usb/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for Linux-USB documentation.</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">USB class drivers stay in various subdirectories under </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>The mass storage driver</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/storage/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">, in tandem with the SCSI subsystem </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/scsi/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>, implements the USB mass storage</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">protocol. The </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/input/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">[4] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>directory tree includes drivers for USB input devices such as keyboards and mice;</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">drivers/usb/serial/ </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">has drivers for USB-to-serial converters; </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/media/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>supports USB multimedia</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">devices; </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/net/usb/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="14"/><w:szCs w:val="14"/></w:rPr><w:t xml:space="preserve">[5] </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">has drivers for USB Ethernet dongles; and </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/misc/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>contains drivers for</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">miscellaneous USB devices such as LEDs, LCDs, and fingerprint sensors. Look at </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/usb-skeleton.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>for</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>a starting point driver template if you can't zero in on a closer match.</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">The USB gadget subsystem is in </w:t></w:r><w:r w:rsidRPr="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="0000FF"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>drivers/usb/gadget/</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>This directory contains USB device controller drivers, and</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>gadget drivers for mass storage (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>file_storage.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), serial converters (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>serial.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>), and Ethernet networking (</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:i/><w:iCs/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>ether.c</w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>).</w:t></w:r></w:p><w:p w:rsidR="004B19AA" w:rsidRDefault="004B19AA" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">Table 3 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">contains the main data structures used in this chapter and their location in the source tree. </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="00217B"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t xml:space="preserve">4 </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>lists the main kernel programming interfaces that you used in this chapter along with the location of their</w:t></w:r><w:r w:rsidR="00192FC7"><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>definitions.</w:t></w:r></w:p><w:p w:rsidR="00C83484" w:rsidRDefault="00C83484" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00C83484" w:rsidRPr="00C83484" w:rsidRDefault="00C83484" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table 3. Summary of Data Structures</w:t></w:r></w:p><w:p w:rsidR="00192FC7" w:rsidRDefault="00322F98" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="01E70523" wp14:editId="16BCC990"><wp:extent cx="5943600" cy="2690258"/><wp:effectExtent l="0" t="0" r="0" b="0"/><wp:docPr id="9" name="Picture 9" descr="C:\Users\Administrator\Documents\8.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 2" descr="C:\Users\Administrator\Documents\8.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId22"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="2690258"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00C83484" w:rsidRDefault="00C83484" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00322F98" w:rsidRDefault="00322F98" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/></w:rPr><w:t>Table 4. Summary of Kernel Programming Interfaces</w:t></w:r></w:p><w:p w:rsidR="00322F98" w:rsidRDefault="00322F98" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:b/><w:bCs/><w:color w:val="000066"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00322F98" w:rsidRDefault="00DC6394" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="638D557B" wp14:editId="40153B0E"><wp:extent cx="5943600" cy="3007996"/><wp:effectExtent l="0" t="0" r="0" b="1905"/><wp:docPr id="10" name="Picture 10" descr="C:\Users\Administrator\Documents\10.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 3" descr="C:\Users\Administrator\Documents\10.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId23"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="3007996"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00DC6394" w:rsidRDefault="00DC6394" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:noProof/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:drawing><wp:inline distT="0" distB="0" distL="0" distR="0" wp14:anchorId="09876D18" wp14:editId="2B70DF80"><wp:extent cx="5943600" cy="2949645"/><wp:effectExtent l="0" t="0" r="0" b="3175"/><wp:docPr id="11" name="Picture 11" descr="C:\Users\Administrator\Documents\11.png"/><wp:cNvGraphicFramePr><a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/></wp:cNvGraphicFramePr><a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"><pic:nvPicPr><pic:cNvPr id="0" name="Picture 4" descr="C:\Users\Administrator\Documents\11.png"/><pic:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></pic:cNvPicPr></pic:nvPicPr><pic:blipFill><a:blip r:embed="rId24"><a:extLst><a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}"><a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/></a:ext></a:extLst></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></pic:blipFill><pic:spPr bwMode="auto"><a:xfrm><a:off x="0" y="0"/><a:ext cx="5943600" cy="2949645"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln><a:noFill/></a:ln></pic:spPr></pic:pic></a:graphicData></a:graphic></wp:inline></w:drawing></w:r></w:p><w:p w:rsidR="00C31C9F" w:rsidRDefault="00C31C9F" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="Verdana" w:eastAsia="新細明體" w:hAnsi="Verdana" w:cs="Verdana"/><w:color w:val="000000"/><w:sz w:val="19"/><w:szCs w:val="19"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="007C6B04" w:rsidRDefault="007C6B04"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00C31C9F" w:rsidRPr="00822F8F" w:rsidRDefault="00C31C9F" w:rsidP="007C6B04"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="-90"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="44"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00822F8F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:sz w:val="44"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:t>지침으로 삼은 문헌</w:t></w:r></w:p><w:p w:rsidR="005B7A35" w:rsidRPr="000B279A" w:rsidRDefault="005B7A35" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">위대한 수령 </w:t></w:r><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="28"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>동지의 로작</w:t></w:r></w:p><w:p w:rsidR="00F72F1B" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="005B7A35"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="10"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>《과학연구사업에서</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>새로운</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>전환을</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>일으킬데</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>대하여》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00C31C9F" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김일성</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>저작집》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>37</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 392~408</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="005B7A35" w:rsidRPr="007C5288" w:rsidRDefault="005B7A35" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="005B7A35" w:rsidRPr="000B279A" w:rsidRDefault="005B7A35" w:rsidP="005B7A35"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">위대한 령도자 </w:t></w:r><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="28"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="000B279A"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>동지의 로작</w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="005B7A35"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="8"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>《새</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>세기</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>, 21</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>세기는</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>정보산업의</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>시대이다</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>.</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00F72F1B" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>선집》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>15</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 110~117</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve">) </w:t></w:r></w:p><w:p w:rsidR="00F72F1B" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="005B7A35"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="8"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>《과학기술을</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>더욱</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>발전시킬데</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>대하여》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00F72F1B" w:rsidRPr="007C5288" w:rsidRDefault="00F72F1B" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>선집》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>8</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 240~247</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="007C5288" w:rsidRDefault="00527076" w:rsidP="005B7A35"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="8"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:jc w:val="both"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>《교육사업을</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>더욱</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>발전시킬데</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t>대하여》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheonRiMaChe"/><w:b/><w:color w:val="000000"/><w:sz w:val="26"/><w:szCs w:val="26"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="007C5288" w:rsidRDefault="00527076" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>(</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>《주체혁명위업의</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>완성을</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>위하여》</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>제</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>5</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>권</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>, 177~189</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong" w:hint="eastAsia"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>페지</w:t></w:r><w:r w:rsidRPr="007C5288"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/></w:rPr><w:t>)</w:t></w:r></w:p><w:p w:rsidR="003308EF" w:rsidRDefault="003308EF" w:rsidP="00247A58"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:firstLine="720"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="KP CheongPong"/><w:b/><w:color w:val="000000"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00DB7CAE" w:rsidRDefault="00DB7CAE"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="40"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="00822F8F" w:rsidRDefault="00527076" w:rsidP="00DB7CAE"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:ind w:left="-90" w:firstLine="90"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana"/><w:b/><w:sz w:val="42"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00822F8F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:cs="Verdana" w:hint="eastAsia"/><w:b/><w:sz w:val="42"/><w:szCs w:val="40"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:t>참고문헌</w:t></w:r></w:p><w:p w:rsidR="00527076" w:rsidRPr="007F7C30" w:rsidRDefault="007F7C30" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Intel,2002</w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t xml:space="preserve">Enhanced Host Controller Interface Specification </w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>for</w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>Universal Serial Bus</w:t></w:r><w:r w:rsidR="00527076" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>》</w:t></w:r></w:p><w:p w:rsidR="00E04C30" w:rsidRPr="007F7C30" w:rsidRDefault="007F7C30" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>Sreekrishnan Venkateswaran</w:t></w:r><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>,2008,</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Essential Linux Device Drivers</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>》</w:t></w:r></w:p><w:p w:rsidR="00E04C30" w:rsidRPr="007F7C30" w:rsidRDefault="007F7C30" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="LegacySans-Medium" w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>Christopher Hallinan</w:t></w:r><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="LegacySans-Medium" w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>,2010,</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>Hallinan_Embedded_Linux_Primer_2nd</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>》</w:t></w:r></w:p><w:p w:rsidR="00E04C30" w:rsidRPr="00DF005A" w:rsidRDefault="000E73E1" w:rsidP="00247A58"><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>MindShare</w:t></w:r><w:r w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:bCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>,2001,</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>《</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>USB</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>System</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>Architecture</w:t></w:r><w:r w:rsidR="00B254F8" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:iCs/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/></w:rPr><w:t>(USB 2.0)</w:t></w:r><w:r w:rsidR="00E04C30" w:rsidRPr="007F7C30"><w:rPr><w:rFonts w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>》</w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRDefault="00DF005A" w:rsidP="00DF005A"><w:pPr><w:autoSpaceDE w:val="0"/><w:autoSpaceDN w:val="0"/><w:adjustRightInd w:val="0"/><w:spacing w:after="0" w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:eastAsia="新細明體" w:cstheme="minorHAnsi"/><w:color w:val="000000" w:themeColor="text1"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:p w:rsidR="00007A4E" w:rsidRDefault="00DF005A" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:tab/></w:r></w:p><w:p w:rsidR="00007A4E" w:rsidRDefault="00007A4E"><w:pPr><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:br w:type="page"/></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00474075" w:rsidRDefault="00DF005A" w:rsidP="00007A4E"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:jc w:val="center"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:b/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="001B5C57"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:b/><w:sz w:val="48"/><w:szCs w:val="48"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:lastRenderedPageBreak/><w:t>맺는말</w:t></w:r></w:p><w:p w:rsidR="009E64FE" w:rsidRPr="00CC295F" w:rsidRDefault="001300A4" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="24"/><w:szCs w:val="24"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve"> </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">지금까지 우리는 매몰형체계에서의 USB부분에 대한 체계자원분석을 진행하였다. 지금USB가 세계적으로 널리 쓰이고 있는 조건에서 매몰형체계에서의USB부분에 대한 체계자원분석은 리론분야에서뿐아니라 실천적으로도 매우 중요한 의의를 가진다. </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>사용자콤퓨터의 입출력대면부의 약점을 극복하기 위하여 설계된 USB를  지금은 거의 모든 전자장치들에서 쉽게 찾아볼수 있다. 수자식사진기, 인쇄기, 손전화기, IP전화기는 물론 건반과 마우스는USB대면부를 가진 전형적인 장치의 실례들이다. 하지만 방금 렬거한 장치들은 일부분에 지나지 않는다. 지금은 간단한 전기기타까지도 USB포구를 가지고 있다.</w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidRDefault="001300A4" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>일반적인 외부장치를 위해 특별히 제작된 입출력장치를 필요로 하던 시기는 이미 과거로 되여 버렸으며 새로운USB의 시기가 도래하여 현재는USB3.0이 출현하여 그 전송속도가 5Gbps에 달하였다.  그러므로 매몰형체계에서의 USB기능에 대한 분석은 중요한 자리를 차지하며 매몰형체계에 접속할수 있는 장치를 증가하여 체계의 능력을 높이는데서 아주 중요하다.</w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidRDefault="001300A4" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">이번에 우리는 체계자원분석을 통하여 매몰형체계에서의USB부분에 대한 리해뿐아니라 일반적인 환경속에서의USB의 특성과 그 동작과정에 대한 확고한 리해를 가지게 되였다. 특히  USB에서 사용되는 여러가지 대면부규약들과 그에 기초한USB대면부지식, 련결방식과 동작원리들은 우리가 오래전부터 관심해오던것들로써 이번에 그에 대한 완벽한 리해를 가지게 됨으로써USB분야에 대한 지식에서의 커다란 진전을 가져오게 되였다. </w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidRDefault="001300A4" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉체" w:eastAsia="청봉체" w:hAnsi="청봉체" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>우리는 이번 실습과제수행을 통하여 얻은 지식을 리용하여 매몰형체계에 련결되여 동작할수 있는 여러가지 장치들에 대한 추가를 비릇하여 실천에서 제기되는 문제들을 해결할수 있다는 새로운 자신심을 가지게 되였다.</w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidRDefault="001300A4" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr><w:r w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">  </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t xml:space="preserve">우리는 발은 자기 땅에 붙이고 눈은 세계를 보라고 하신 경애하는 </w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:b/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>김정일</w:t></w:r><w:r w:rsidR="00DF005A" w:rsidRPr="00CC295F"><w:rPr><w:rFonts w:ascii="청봉" w:eastAsia="청봉" w:hAnsi="청봉" w:hint="eastAsia"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr><w:t>대원수님의 말씀을 가슴깊이 새기고 새 세기 산업혁명을 앞장에서 떠메고 나갈 선군혁명의 믿음직한 골간으로 자신들을 튼튼히 준비해 나가기 위해 전공부문 학습을 꾸준히 해나갈 굳은 결의를 다지면서  이번 실습과제가 우리들의 전공학습에 큰 도움을 주었다고 생각한다.</w:t></w:r></w:p><w:p w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidRDefault="00DF005A" w:rsidP="001300A4"><w:pPr><w:spacing w:line="360" w:lineRule="auto"/><w:rPr><w:rFonts w:eastAsia="新細明體"/><w:sz w:val="23"/><w:szCs w:val="23"/><w:lang w:eastAsia="zh-TW"/></w:rPr></w:pPr></w:p><w:sectPr w:rsidR="00DF005A" w:rsidRPr="00CC295F" w:rsidSect="001300A4"><w:headerReference w:type="default" r:id="rId25"/><w:footerReference w:type="default" r:id="rId26"/><w:footerReference w:type="first" r:id="rId27"/><w:pgSz w:w="11907" w:h="16839" w:code="9"/><w:pgMar w:top="1440" w:right="1440" w:bottom="810" w:left="1260" w:header="720" w:footer="720" w:gutter="0"/><w:cols w:space="720"/><w:titlePg/><w:docGrid w:linePitch="360"/></w:sectPr></w:body></w:document>